"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-client_node_modules_sanity_lib__chunks_index-3e777261_js"],{

/***/ "(app-client)/./node_modules/sanity/lib/_chunks/PaneItem-51d63fac.js":
/*!**************************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks/PaneItem-51d63fac.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PaneItem: function() { return /* binding */ PaneItem; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-client)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sanity/icons */ \"(app-client)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sanity/types */ \"(app-client)/./node_modules/@sanity/types/lib/index.esm.js\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sanity/ui */ \"(app-client)/./node_modules/@sanity/ui/dist/index.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-client)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sanity */ \"(app-client)/./node_modules/sanity/lib/index.esm.js\");\n/* harmony import */ var _desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./desk-5441fc6d.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/desk-5441fc6d.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/omit.js */ \"(app-client)/./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_omit_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _sanity_util_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sanity/util/paths */ \"(app-client)/./node_modules/@sanity/util/lib/paths.esm.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sanity/router */ \"(app-client)/./node_modules/sanity/lib/router.esm.js\");\n\n\n\n\n\n\n\n\n\n\nconst getUnknownTypeFallback = (id, typeName) => ({\n  title: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"em\", {\n    children: [\"No schema found for type \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n      children: typeName\n    })]\n  }),\n  subtitle: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"em\", {\n    children: [\"Document: \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n      children: id\n    })]\n  }),\n  media: () => /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_7__.WarningOutlineIcon, {})\n});\nfunction MissingSchemaType(props) {\n  const {\n    layout,\n    value\n  } = props;\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.SanityDefaultPreview, {\n    ...getUnknownTypeFallback(value._id, value._type),\n    layout\n  });\n}\nfunction getIconWithFallback(icon, schemaType, defaultIcon) {\n  if (icon === false) {\n    return false;\n  }\n  return icon || schemaType && schemaType.icon || defaultIcon || false;\n}\nfunction PaneItem(props) {\n  const {\n    icon,\n    id,\n    layout = \"default\",\n    pressed,\n    schemaType,\n    selected,\n    title,\n    value,\n    margin,\n    marginBottom,\n    marginTop\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useSchema)();\n  const documentPreviewStore = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useDocumentPreviewStore)();\n  const {\n    ChildLink\n  } = (0,_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_3__.usePaneRouter)();\n  const documentPresence = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useDocumentPresence)(id);\n  const hasSchemaType = Boolean(schemaType && schemaType.name && schema.get(schemaType.name));\n  const [clicked, setClicked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const preview = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (value && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_8__.isSanityDocument)(value)) {\n      if (!schemaType || !hasSchemaType) {\n        return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MissingSchemaType, {\n          value\n        });\n      }\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_3__.PaneItemPreview, {\n        documentPreviewStore,\n        icon: getIconWithFallback(icon, schemaType, _sanity_icons__WEBPACK_IMPORTED_MODULE_7__.DocumentIcon),\n        layout,\n        schemaType,\n        value,\n        presence: documentPresence\n      });\n    }\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.SanityDefaultPreview, {\n      status: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_9__.Text, {\n        muted: true,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_7__.ChevronRightIcon, {})\n      }),\n      icon: getIconWithFallback(icon, schemaType, _sanity_icons__WEBPACK_IMPORTED_MODULE_7__.FolderIcon),\n      layout,\n      title\n    });\n  }, [documentPreviewStore, hasSchemaType, icon, layout, schemaType, title, value, documentPresence]);\n  const Link = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => function LinkComponent(linkProps) {\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChildLink, {\n      ...linkProps,\n      childId: id\n    });\n  }, [ChildLink, id]);\n  const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(e => {\n    if (e.metaKey) {\n      setClicked(false);\n      return;\n    }\n    setClicked(true);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => setClicked(false), [selected]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.PreviewCard, {\n    __unstable_focusRing: true,\n    as: Link,\n    \"data-as\": \"a\",\n    \"data-ui\": \"PaneItem\",\n    margin,\n    marginBottom,\n    marginTop,\n    onClick: handleClick,\n    padding: 2,\n    pressed,\n    radius: 2,\n    selected: selected || clicked,\n    sizing: \"border\",\n    tabIndex: -1,\n    tone: \"inherit\",\n    children: preview\n  });\n}\n\n//# sourceMappingURL=PaneItem-51d63fac.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1jbGllbnQpLy4vbm9kZV9tb2R1bGVzL3Nhbml0eS9saWIvX2NodW5rcy9QYW5lSXRlbS01MWQ2M2ZhYy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQThDO0FBQ2lEO0FBQzlDO0FBQ2Y7QUFDZ0M7QUFDa0Q7QUFDaEQ7QUFDNUM7QUFDSTtBQUNMO0FBQ3ZCO0FBQ0Esd0JBQXdCLHVEQUFJO0FBQzVCLDJEQUEyRCxzREFBRztBQUM5RDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsMkJBQTJCLHVEQUFJO0FBQy9CLDRDQUE0QyxzREFBRztBQUMvQztBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsOEJBQThCLHNEQUFHLENBQUMsNkRBQWtCLElBQUk7QUFDeEQsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHdCQUF3QixzREFBRyxDQUFDLHdEQUFvQjtBQUNoRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osaUJBQWlCLGlEQUFTO0FBQzFCLCtCQUErQiwrREFBdUI7QUFDdEQ7QUFDQTtBQUNBLElBQUksRUFBRSxnRUFBYTtBQUNuQiwyQkFBMkIsMkRBQW1CO0FBQzlDO0FBQ0EsZ0NBQWdDLCtDQUFRO0FBQ3hDLGtCQUFrQiw4Q0FBTztBQUN6QixpQkFBaUIsK0RBQWdCO0FBQ2pDO0FBQ0EsOEJBQThCLHNEQUFHO0FBQ2pDO0FBQ0EsU0FBUztBQUNUO0FBQ0EsNEJBQTRCLHNEQUFHLENBQUMsOERBQWU7QUFDL0M7QUFDQSxvREFBb0QsdURBQVk7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSwwQkFBMEIsc0RBQUcsQ0FBQyx3REFBb0I7QUFDbEQsNkJBQTZCLHNEQUFHLENBQUMsNENBQUk7QUFDckM7QUFDQSxpQ0FBaUMsc0RBQUcsQ0FBQywyREFBZ0IsSUFBSTtBQUN6RCxPQUFPO0FBQ1Asa0RBQWtELHFEQUFVO0FBQzVEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGVBQWUsOENBQU87QUFDdEIsMEJBQTBCLHNEQUFHO0FBQzdCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILHNCQUFzQixrREFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWCx3QkFBd0Isc0RBQUcsQ0FBQywrQ0FBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc2FuaXR5L2xpYi9fY2h1bmtzL1BhbmVJdGVtLTUxZDYzZmFjLmpzPzI3NWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4LCBqc3hzIH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgV2FybmluZ091dGxpbmVJY29uLCBDaGV2cm9uUmlnaHRJY29uLCBEb2N1bWVudEljb24sIEZvbGRlckljb24gfSBmcm9tICdAc2FuaXR5L2ljb25zJztcbmltcG9ydCB7IGlzU2FuaXR5RG9jdW1lbnQgfSBmcm9tICdAc2FuaXR5L3R5cGVzJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAc2FuaXR5L3VpJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU2FuaXR5RGVmYXVsdFByZXZpZXcsIHVzZVNjaGVtYSwgdXNlRG9jdW1lbnRQcmV2aWV3U3RvcmUsIHVzZURvY3VtZW50UHJlc2VuY2UsIFByZXZpZXdDYXJkIH0gZnJvbSAnc2FuaXR5JztcbmltcG9ydCB7IHVzZVBhbmVSb3V0ZXIsIFBhbmVJdGVtUHJldmlldyB9IGZyb20gJy4vZGVzay01NDQxZmM2ZC5qcyc7XG5pbXBvcnQgJ2xvZGFzaC9vbWl0LmpzJztcbmltcG9ydCAnQHNhbml0eS91dGlsL3BhdGhzJztcbmltcG9ydCAnc2FuaXR5L3JvdXRlcic7XG5jb25zdCBnZXRVbmtub3duVHlwZUZhbGxiYWNrID0gKGlkLCB0eXBlTmFtZSkgPT4gKHtcbiAgdGl0bGU6IC8qIEBfX1BVUkVfXyAqL2pzeHMoXCJlbVwiLCB7XG4gICAgY2hpbGRyZW46IFtcIk5vIHNjaGVtYSBmb3VuZCBmb3IgdHlwZSBcIiwgLyogQF9fUFVSRV9fICovanN4KFwiY29kZVwiLCB7XG4gICAgICBjaGlsZHJlbjogdHlwZU5hbWVcbiAgICB9KV1cbiAgfSksXG4gIHN1YnRpdGxlOiAvKiBAX19QVVJFX18gKi9qc3hzKFwiZW1cIiwge1xuICAgIGNoaWxkcmVuOiBbXCJEb2N1bWVudDogXCIsIC8qIEBfX1BVUkVfXyAqL2pzeChcImNvZGVcIiwge1xuICAgICAgY2hpbGRyZW46IGlkXG4gICAgfSldXG4gIH0pLFxuICBtZWRpYTogKCkgPT4gLyogQF9fUFVSRV9fICovanN4KFdhcm5pbmdPdXRsaW5lSWNvbiwge30pXG59KTtcbmZ1bmN0aW9uIE1pc3NpbmdTY2hlbWFUeXBlKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBsYXlvdXQsXG4gICAgdmFsdWVcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFNhbml0eURlZmF1bHRQcmV2aWV3LCB7XG4gICAgLi4uZ2V0VW5rbm93blR5cGVGYWxsYmFjayh2YWx1ZS5faWQsIHZhbHVlLl90eXBlKSxcbiAgICBsYXlvdXRcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRJY29uV2l0aEZhbGxiYWNrKGljb24sIHNjaGVtYVR5cGUsIGRlZmF1bHRJY29uKSB7XG4gIGlmIChpY29uID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaWNvbiB8fCBzY2hlbWFUeXBlICYmIHNjaGVtYVR5cGUuaWNvbiB8fCBkZWZhdWx0SWNvbiB8fCBmYWxzZTtcbn1cbmZ1bmN0aW9uIFBhbmVJdGVtKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBpY29uLFxuICAgIGlkLFxuICAgIGxheW91dCA9IFwiZGVmYXVsdFwiLFxuICAgIHByZXNzZWQsXG4gICAgc2NoZW1hVHlwZSxcbiAgICBzZWxlY3RlZCxcbiAgICB0aXRsZSxcbiAgICB2YWx1ZSxcbiAgICBtYXJnaW4sXG4gICAgbWFyZ2luQm90dG9tLFxuICAgIG1hcmdpblRvcFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHNjaGVtYSA9IHVzZVNjaGVtYSgpO1xuICBjb25zdCBkb2N1bWVudFByZXZpZXdTdG9yZSA9IHVzZURvY3VtZW50UHJldmlld1N0b3JlKCk7XG4gIGNvbnN0IHtcbiAgICBDaGlsZExpbmtcbiAgfSA9IHVzZVBhbmVSb3V0ZXIoKTtcbiAgY29uc3QgZG9jdW1lbnRQcmVzZW5jZSA9IHVzZURvY3VtZW50UHJlc2VuY2UoaWQpO1xuICBjb25zdCBoYXNTY2hlbWFUeXBlID0gQm9vbGVhbihzY2hlbWFUeXBlICYmIHNjaGVtYVR5cGUubmFtZSAmJiBzY2hlbWEuZ2V0KHNjaGVtYVR5cGUubmFtZSkpO1xuICBjb25zdCBbY2xpY2tlZCwgc2V0Q2xpY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHByZXZpZXcgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodmFsdWUgJiYgaXNTYW5pdHlEb2N1bWVudCh2YWx1ZSkpIHtcbiAgICAgIGlmICghc2NoZW1hVHlwZSB8fCAhaGFzU2NoZW1hVHlwZSkge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KE1pc3NpbmdTY2hlbWFUeXBlLCB7XG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFBhbmVJdGVtUHJldmlldywge1xuICAgICAgICBkb2N1bWVudFByZXZpZXdTdG9yZSxcbiAgICAgICAgaWNvbjogZ2V0SWNvbldpdGhGYWxsYmFjayhpY29uLCBzY2hlbWFUeXBlLCBEb2N1bWVudEljb24pLFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIHNjaGVtYVR5cGUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwcmVzZW5jZTogZG9jdW1lbnRQcmVzZW5jZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goU2FuaXR5RGVmYXVsdFByZXZpZXcsIHtcbiAgICAgIHN0YXR1czogLyogQF9fUFVSRV9fICovanN4KFRleHQsIHtcbiAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQ2hldnJvblJpZ2h0SWNvbiwge30pXG4gICAgICB9KSxcbiAgICAgIGljb246IGdldEljb25XaXRoRmFsbGJhY2soaWNvbiwgc2NoZW1hVHlwZSwgRm9sZGVySWNvbiksXG4gICAgICBsYXlvdXQsXG4gICAgICB0aXRsZVxuICAgIH0pO1xuICB9LCBbZG9jdW1lbnRQcmV2aWV3U3RvcmUsIGhhc1NjaGVtYVR5cGUsIGljb24sIGxheW91dCwgc2NoZW1hVHlwZSwgdGl0bGUsIHZhbHVlLCBkb2N1bWVudFByZXNlbmNlXSk7XG4gIGNvbnN0IExpbmsgPSB1c2VNZW1vKCgpID0+IGZ1bmN0aW9uIExpbmtDb21wb25lbnQobGlua1Byb3BzKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChDaGlsZExpbmssIHtcbiAgICAgIC4uLmxpbmtQcm9wcyxcbiAgICAgIGNoaWxkSWQ6IGlkXG4gICAgfSk7XG4gIH0sIFtDaGlsZExpbmssIGlkXSk7XG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soZSA9PiB7XG4gICAgaWYgKGUubWV0YUtleSkge1xuICAgICAgc2V0Q2xpY2tlZChmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldENsaWNrZWQodHJ1ZSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHNldENsaWNrZWQoZmFsc2UpLCBbc2VsZWN0ZWRdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChQcmV2aWV3Q2FyZCwge1xuICAgIF9fdW5zdGFibGVfZm9jdXNSaW5nOiB0cnVlLFxuICAgIGFzOiBMaW5rLFxuICAgIFwiZGF0YS1hc1wiOiBcImFcIixcbiAgICBcImRhdGEtdWlcIjogXCJQYW5lSXRlbVwiLFxuICAgIG1hcmdpbixcbiAgICBtYXJnaW5Cb3R0b20sXG4gICAgbWFyZ2luVG9wLFxuICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgIHBhZGRpbmc6IDIsXG4gICAgcHJlc3NlZCxcbiAgICByYWRpdXM6IDIsXG4gICAgc2VsZWN0ZWQ6IHNlbGVjdGVkIHx8IGNsaWNrZWQsXG4gICAgc2l6aW5nOiBcImJvcmRlclwiLFxuICAgIHRhYkluZGV4OiAtMSxcbiAgICB0b25lOiBcImluaGVyaXRcIixcbiAgICBjaGlsZHJlbjogcHJldmlld1xuICB9KTtcbn1cbmV4cG9ydCB7IFBhbmVJdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYW5lSXRlbS01MWQ2M2ZhYy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-client)/./node_modules/sanity/lib/_chunks/PaneItem-51d63fac.js\n"));

/***/ }),

/***/ "(app-client)/./node_modules/sanity/lib/_chunks/index-3e777261.js":
/*!***********************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks/index-3e777261.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ DocumentListPane; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-client)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-client)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sanity/ui */ \"(app-client)/./node_modules/@sanity/ui/dist/index.esm.js\");\n/* harmony import */ var shallow_equals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shallow-equals */ \"(app-client)/./node_modules/shallow-equals/index.js\");\n/* harmony import */ var shallow_equals__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(shallow_equals__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/isEqual.js */ \"(app-client)/./node_modules/lodash/isEqual.js\");\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @sanity/icons */ \"(app-client)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! styled-components */ \"(app-client)/./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/defer.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/throwError.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/share.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/partition.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/take.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/throttleTime.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/scheduler/async.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/Subject.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/concat.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/tap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/debounce.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! rxjs */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/observable/timer.js\");\n/* harmony import */ var react_rx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-rx */ \"(app-client)/./node_modules/react-rx/dist/esm/index.js\");\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! sanity */ \"(app-client)/./node_modules/sanity/lib/index.esm.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sanity/router */ \"(app-client)/./node_modules/sanity/lib/router.esm.js\");\n/* harmony import */ var _desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./desk-5441fc6d.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/desk-5441fc6d.js\");\n/* harmony import */ var _index_0de920bc_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index-0de920bc.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/index-0de920bc.js\");\n/* harmony import */ var _sanity_util_paths__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sanity/util/paths */ \"(app-client)/./node_modules/@sanity/util/lib/paths.esm.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sanity/types */ \"(app-client)/./node_modules/@sanity/types/lib/index.esm.js\");\n/* harmony import */ var _PaneItem_51d63fac_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PaneItem-51d63fac.js */ \"(app-client)/./node_modules/sanity/lib/_chunks/PaneItem-51d63fac.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/omit.js */ \"(app-client)/./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_omit_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash/isNumber.js */ \"(app-client)/./node_modules/lodash/isNumber.js\");\n/* harmony import */ var lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash/isString.js */ \"(app-client)/./node_modules/lodash/isString.js\");\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_isString_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/startWith.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/catchError.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! rxjs/operators */ \"(app-client)/./node_modules/rxjs/dist/esm5/internal/operators/scan.js\");\n/* harmony import */ var rxjs_exhaustmap_with_trailing__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs-exhaustmap-with-trailing */ \"(app-client)/./node_modules/rxjs-exhaustmap-with-trailing/dist/esm/index.js\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PARTIAL_PAGE_LIMIT = 100;\nconst FULL_LIST_LIMIT = 2e3;\nconst DEFAULT_ORDERING = {\n  by: [{\n    field: \"_updatedAt\",\n    direction: \"desc\"\n  }]\n};\nconst EMPTY_RECORD = {};\nfunction removePublishedWithDrafts(documents) {\n  return (0,sanity__WEBPACK_IMPORTED_MODULE_5__.collate)(documents).map(entry => {\n    const doc = entry.draft || entry.published;\n    return {\n      ...doc,\n      hasPublished: !!entry.published,\n      hasDraft: !!entry.draft\n    };\n  });\n}\nconst RE_TYPE_NAME_IN_FILTER = /\\b_type\\s*==\\s*(['\"].*?['\"]|\\$.*?(?:\\s|$))|\\B(['\"].*?['\"]|\\$.*?(?:\\s|$))\\s*==\\s*_type\\b/;\nfunction getTypeNameFromSingleTypeFilter(filter) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const matches = filter.match(RE_TYPE_NAME_IN_FILTER);\n  if (!matches) {\n    return null;\n  }\n  const match = (matches[1] || matches[2]).trim().replace(/^[\"']|[\"']$/g, \"\");\n  if (match[0] === \"$\") {\n    const k = match.slice(1);\n    const v = params[k];\n    return typeof v === \"string\" ? v : null;\n  }\n  return match;\n}\nfunction isSimpleTypeFilter(filter) {\n  return /^_type\\s*==\\s*['\"$]\\w+['\"]?\\s*$/.test(filter.trim());\n}\nfunction applyOrderingFunctions(order, schemaType) {\n  const orderBy = order.by.map(by => {\n    if (by.mapWith) {\n      return by;\n    }\n    const fieldType = tryResolveSchemaTypeForPath(schemaType, by.field);\n    if (!fieldType) {\n      return by;\n    }\n    if (fieldExtendsType(fieldType, \"datetime\")) {\n      return {\n        ...by,\n        mapWith: \"dateTime\"\n      };\n    }\n    if (fieldType.jsonType === \"string\") {\n      return {\n        ...by,\n        mapWith: \"lower\"\n      };\n    }\n    return by;\n  });\n  return orderBy.every((item, index) => item === order.by[index]) ? order : {\n    ...order,\n    by: orderBy\n  };\n}\nfunction tryResolveSchemaTypeForPath(baseType, path) {\n  const pathSegments = _sanity_util_paths__WEBPACK_IMPORTED_MODULE_9__.fromString(path);\n  let current = baseType;\n  for (const segment of pathSegments) {\n    if (!current) {\n      return void 0;\n    }\n    if (typeof segment === \"string\") {\n      current = getFieldTypeByName(current, segment);\n      continue;\n    }\n    const isArrayAccessor = (0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isKeySegment)(segment) || (0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isIndexSegment)(segment);\n    if (!isArrayAccessor || current.jsonType !== \"array\") {\n      return void 0;\n    }\n    const [memberType, otherType] = current.of || [];\n    if (otherType || !memberType) {\n      return void 0;\n    }\n    if (!(0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isReferenceSchemaType)(memberType)) {\n      current = memberType;\n      continue;\n    }\n    const [refType, otherRefType] = memberType.to || [];\n    if (otherRefType || !refType) {\n      return void 0;\n    }\n    current = refType;\n  }\n  return current;\n}\nfunction getFieldTypeByName(type, fieldName) {\n  if (!(\"fields\" in type)) {\n    return void 0;\n  }\n  const fieldType = type.fields.find(field => field.name === fieldName);\n  return fieldType ? fieldType.type : void 0;\n}\nfunction fieldExtendsType(field, ofType) {\n  let current = field.type;\n  while (current) {\n    if (current.name === ofType) {\n      return true;\n    }\n    if (!current.type && current.jsonType === ofType) {\n      return true;\n    }\n    current = current.type;\n  }\n  return false;\n}\nconst RootBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  position: relative;\\n\"])));\nconst CommandListBox = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n\"])));\nconst SKELETON_ITEMS = [...Array(30).keys()];\nfunction LoadingView(props) {\n  const {\n    layout\n  } = props;\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Stack, {\n    padding: 2,\n    space: 1,\n    children: SKELETON_ITEMS.map(num => /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Card, {\n      padding: 2,\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_5__.SanityDefaultPreview, {\n        isPlaceholder: true,\n        layout\n      })\n    }, num))\n  });\n}\nfunction DocumentListPaneContent(props) {\n  const {\n    childItemId,\n    error,\n    filterIsSimpleTypeConstraint,\n    hasMaxItems,\n    hasSearchQuery,\n    isActive,\n    isLazyLoading,\n    isLoading,\n    items,\n    layout,\n    loadingVariant,\n    onListChange,\n    onRetry,\n    paneTitle,\n    searchInputElement,\n    showIcons\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useSchema)();\n  const {\n    collapsed: layoutCollapsed\n  } = (0,_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__.usePaneLayout)();\n  const {\n    collapsed,\n    index\n  } = (0,_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__.usePane)();\n  const [shouldRender, setShouldRender] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const handleEndReached = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if (isLoading || isLazyLoading || !shouldRender) return;\n    onListChange();\n  }, [isLazyLoading, isLoading, onListChange, shouldRender]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (collapsed) return void 0;\n    const timer = setTimeout(() => {\n      setShouldRender(true);\n    }, 0);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [collapsed, items]);\n  const renderItem = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((item, _ref) => {\n    let {\n      activeIndex\n    } = _ref;\n    const publishedId = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.getPublishedId)(item._id);\n    const isSelected = childItemId === publishedId;\n    const pressed = !isActive && isSelected;\n    const selected = isActive && isSelected;\n    const isLastItem = activeIndex === items.length - 1;\n    const showSpinner = isLastItem && isLazyLoading;\n    const showMaxItemsMessage = isLastItem && hasMaxItems;\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      children: [/* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PaneItem_51d63fac_js__WEBPACK_IMPORTED_MODULE_10__.PaneItem, {\n        icon: showIcons === false ? false : void 0,\n        id: publishedId,\n        layout,\n        marginBottom: 1,\n        pressed,\n        schemaType: schema.get(item._type),\n        selected,\n        value: item\n      }), showSpinner && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n        align: \"center\",\n        justify: \"center\",\n        padding: 4,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Spinner, {\n          muted: true\n        })\n      }), showMaxItemsMessage && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n        marginY: 1,\n        paddingX: 3,\n        paddingY: 4,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n          align: \"center\",\n          muted: true,\n          size: 1,\n          children: [\"Displaying a maximum of \", FULL_LIST_LIMIT, \" documents\"]\n        })\n      })]\n    });\n  }, [childItemId, isActive, items.length, layout, schema, showIcons, hasMaxItems, isLazyLoading]);\n  const noDocumentsContent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (hasSearchQuery) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Container, {\n          width: 1,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n            paddingX: 4,\n            paddingY: 5,\n            children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n              align: \"center\",\n              muted: true,\n              children: \"No results found\"\n            })\n          })\n        })\n      });\n    }\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n      align: \"center\",\n      direction: \"column\",\n      height: \"fill\",\n      justify: \"center\",\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Container, {\n        width: 1,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n          paddingX: 4,\n          paddingY: 5,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n            align: \"center\",\n            muted: true,\n            children: filterIsSimpleTypeConstraint ? \"No documents of this type\" : \"No matching documents\"\n          })\n        })\n      })\n    });\n  }, [filterIsSimpleTypeConstraint, hasSearchQuery]);\n  const mainContent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!shouldRender) {\n      return null;\n    }\n    if (error) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Container, {\n          width: 1,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Stack, {\n            paddingX: 4,\n            paddingY: 5,\n            space: 4,\n            children: [/* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Heading, {\n              as: \"h3\",\n              children: \"Could not fetch list items\"\n            }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Text, {\n              as: \"p\",\n              children: [\"Error: \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n                children: error.message\n              })]\n            }), onRetry && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n              children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Button, {\n                icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_18__.SyncIcon,\n                onClick: onRetry,\n                text: \"Retry\",\n                tone: \"primary\"\n              })\n            })]\n          })\n        })\n      });\n    }\n    if (!isLoading && items.length === 0) {\n      return noDocumentsContent;\n    }\n    if (loadingVariant === \"initial\" && isLoading) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__.Delay, {\n        ms: 300,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(LoadingView, {\n          layout\n        })\n      });\n    }\n    if (loadingVariant === \"spinner\" && isLoading) {\n      return null;\n    }\n    const key = \"\".concat(index, \"-\").concat(collapsed);\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(RootBox, {\n      overflow: \"hidden\",\n      height: \"fill\",\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(CommandListBox, {\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_5__.CommandList, {\n          activeItemDataAttr: \"data-hovered\",\n          ariaLabel: paneTitle,\n          canReceiveFocus: true,\n          focusRingOffset: -3,\n          inputElement: searchInputElement,\n          itemHeight: 51,\n          items,\n          onEndReached: handleEndReached,\n          onlyShowSelectionWhenActive: true,\n          overscan: 10,\n          padding: 2,\n          paddingBottom: 1,\n          renderItem,\n          wrapAround: false\n        }, key)\n      })\n    });\n  }, [collapsed, error, handleEndReached, index, isLoading, items, layout, loadingVariant,\n  // noDocumentsContent,\n  onRetry, renderItem, searchInputElement, shouldRender]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__.PaneContent, {\n    overflow: layoutCollapsed || loadingVariant === \"initial\" ? \"hidden\" : \"auto\",\n    children: mainContent\n  });\n}\nconst DocumentListPaneHeader = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(_ref2 => {\n  let {\n    contentAfter,\n    index,\n    initialValueTemplates = [],\n    menuItemGroups = [],\n    menuItems = [],\n    setLayout,\n    setSortOrder,\n    title\n  } = _ref2;\n  const {\n    features\n  } = (0,_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__.useDeskTool)();\n  const {\n    collapsed,\n    isLast\n  } = (0,_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__.usePane)();\n  const tabIndex = isLast && !collapsed ? -1 : 0;\n  const actionHandlers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    return {\n      setLayout: _ref3 => {\n        let {\n          layout: value\n        } = _ref3;\n        setLayout(value);\n      },\n      setSortOrder: sort => {\n        setSortOrder(sort);\n      }\n    };\n  }, [setLayout, setSortOrder]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__.PaneHeader, {\n    actions: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__.PaneHeaderActions, {\n      initialValueTemplateItems: initialValueTemplates,\n      actionHandlers,\n      menuItemGroups,\n      menuItems\n    }),\n    backButton: features.backButton && index > 0 && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Button, {\n      as: _desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__.BackLink,\n      \"data-as\": \"a\",\n      icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_18__.ArrowLeftIcon,\n      mode: \"bleed\"\n    }),\n    contentAfter,\n    tabIndex,\n    title\n  });\n});\nDocumentListPaneHeader.displayName = \"DocumentListPaneHeader\";\nfunction listenSearchQuery(options) {\n  const {\n    client,\n    schema,\n    sort,\n    limit,\n    params,\n    filter,\n    searchQuery,\n    staticTypeNames\n  } = options;\n  const sortBy = sort.by;\n  const extendedProjection = sort == null ? void 0 : sort.extendedProjection;\n  const events$ = (0,rxjs__WEBPACK_IMPORTED_MODULE_19__.defer)(() => {\n    return client.listen(\"*[\".concat(filter, \"]\"), params, {\n      events: [\"welcome\", \"mutation\", \"reconnect\"],\n      includeResult: false,\n      visibility: \"query\"\n    });\n  }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.mergeMap)((ev, i) => {\n    const isFirst = i === 0;\n    if (isFirst && ev.type !== \"welcome\") {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.throwError)(() => new Error(ev.type === \"reconnect\" ? \"Could not establish EventSource connection\" : \"Received unexpected type of first event \\\"\".concat(ev.type, \"\\\"\")));\n    }\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)(ev);\n  }), (0,rxjs__WEBPACK_IMPORTED_MODULE_23__.share)());\n  const [welcome$, mutationAndReconnect$] = (0,rxjs__WEBPACK_IMPORTED_MODULE_24__.partition)(events$, ev => ev.type === \"welcome\");\n  return (0,rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(welcome$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_26__.take)(1)), mutationAndReconnect$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_27__.throttleTime)(1e3, rxjs__WEBPACK_IMPORTED_MODULE_28__.asyncScheduler, {\n    leading: true,\n    trailing: true\n  }))).pipe((0,rxjs_exhaustmap_with_trailing__WEBPACK_IMPORTED_MODULE_14__.exhaustMapWithTrailing)(() => {\n    const typeNames$ = staticTypeNames ? (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)(staticTypeNames) : client.observable.fetch(\"array::unique(*[\".concat(filter, \"][]._type)\"), params);\n    return typeNames$.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_20__.mergeMap)(typeNames => {\n      const types = typeNames.flatMap(name => schema.get(name) || []);\n      const searchTerms = {\n        filter,\n        query: searchQuery || \"\",\n        types\n      };\n      const searchOptions = {\n        __unstable_extendedProjection: extendedProjection,\n        comments: [\"findability-source: \".concat(searchQuery ? \"list-query\" : \"list\")],\n        limit,\n        params,\n        sort: sortBy\n      };\n      const {\n        query: createdQuery,\n        params: createdParams\n      } = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.createSearchQuery)(searchTerms, searchOptions);\n      return client.observable.fetch(createdQuery, createdParams);\n    }));\n  }));\n}\nconst EMPTY_ARRAY$1 = [];\nconst INITIAL_STATE = {\n  error: null,\n  onRetry: void 0,\n  result: null\n};\nconst INITIAL_QUERY_RESULTS = {\n  result: null,\n  error: null\n};\nfunction useDocumentList(opts) {\n  const {\n    filter,\n    params: paramsProp,\n    sortOrder,\n    searchQuery\n  } = opts;\n  const client = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useClient)(sanity__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_STUDIO_CLIENT_OPTIONS);\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useSchema)();\n  const [resultState, setResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(INITIAL_STATE);\n  const {\n    onRetry,\n    error,\n    result\n  } = resultState;\n  const documents = result == null ? void 0 : result.documents;\n  const items = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => documents ? removePublishedWithDrafts(documents) : EMPTY_ARRAY$1, [documents]);\n  const [isLazyLoading, setIsLazyLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [hasFullList, setHasFullList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [shouldFetchFullList, setShouldFetchFullList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const typeNameFromFilter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getTypeNameFromSingleTypeFilter(filter, paramsProp), [filter, paramsProp]);\n  const isLoading = result === null && !error;\n  const hasMaxItems = (documents == null ? void 0 : documents.length) === FULL_LIST_LIMIT;\n  const onListChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if (isLoading || hasFullList || shouldFetchFullList) return;\n    setShouldFetchFullList(true);\n  }, [isLoading, hasFullList, shouldFetchFullList]);\n  const handleSetResult = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(res => {\n    var _a, _b;\n    if (res.error) {\n      setResult(res);\n      return;\n    }\n    const documentsLength = ((_b = (_a = res.result) == null ? void 0 : _a.documents) == null ? void 0 : _b.length) || 0;\n    const isLoadingMoreItems = !res.error && (res == null ? void 0 : res.result) === null && shouldFetchFullList;\n    if (isLoadingMoreItems) {\n      setIsLazyLoading(true);\n      return;\n    }\n    if (documentsLength < PARTIAL_PAGE_LIMIT && documentsLength !== 0 && !shouldFetchFullList) {\n      setHasFullList(true);\n    }\n    if ((res == null ? void 0 : res.result) === null) {\n      setResult(prev => ({\n        ...(prev.error ? res : prev)\n      }));\n      return;\n    }\n    setIsLazyLoading(false);\n    setResult(res);\n  }, [shouldFetchFullList]);\n  const queryResults$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const onRetry$ = new rxjs__WEBPACK_IMPORTED_MODULE_29__.Subject();\n    const _onRetry = () => onRetry$.next();\n    const limit = shouldFetchFullList ? FULL_LIST_LIMIT : PARTIAL_PAGE_LIMIT;\n    const sort = sortOrder || DEFAULT_ORDERING;\n    return listenSearchQuery({\n      client,\n      filter,\n      limit,\n      params: paramsProp,\n      schema,\n      searchQuery: searchQuery || \"\",\n      sort,\n      staticTypeNames: typeNameFromFilter ? [typeNameFromFilter] : void 0\n    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.map)(results => ({\n      result: {\n        documents: results\n      },\n      error: null\n    })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_31__.startWith)(INITIAL_QUERY_RESULTS), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_32__.catchError)(err => {\n      if (err instanceof ProgressEvent) {\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.throwError)(() => new Error(\"Request error\"));\n      }\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_21__.throwError)(() => err);\n    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_32__.catchError)((err, caught$) => {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_33__.concat)((0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)({\n        result: null,\n        error: err\n      }), (0,rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)((0,rxjs__WEBPACK_IMPORTED_MODULE_34__.fromEvent)(window, \"online\"), onRetry$).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_26__.take)(1), (0,rxjs__WEBPACK_IMPORTED_MODULE_20__.mergeMap)(() => caught$)));\n    }), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_35__.scan)((prev, next) => ({\n      ...prev,\n      ...next,\n      onRetry: _onRetry\n    })));\n  }, [client, filter, paramsProp, schema, searchQuery, shouldFetchFullList, sortOrder, typeNameFromFilter]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const sub = queryResults$.subscribe(handleSetResult);\n    return () => {\n      sub.unsubscribe();\n    };\n  }, [handleSetResult, queryResults$]);\n  const reset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setHasFullList(false);\n    setIsLazyLoading(false);\n    setResult(INITIAL_STATE);\n    setShouldFetchFullList(false);\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    reset();\n  }, [reset, filter, paramsProp, sortOrder, searchQuery]);\n  return {\n    error,\n    hasMaxItems,\n    isLazyLoading,\n    isLoading,\n    isSearchReady: !error,\n    items,\n    onListChange,\n    onRetry\n  };\n}\nconst EMPTY_ARRAY = [];\nconst rotate = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__.keyframes)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n\"])));\nconst AnimatedSpinnerIcon = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_icons__WEBPACK_IMPORTED_MODULE_18__.SpinnerIcon)(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n  animation: \", \" 500ms linear infinite;\\n\"])), rotate);\nconst SearchCard = (0,styled_components__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Card)(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\n  [data-ui='TextInput'] {\\n    border-radius: inherit;\\n  }\\n\"])));\nfunction useShallowUnique(value) {\n  const valueRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(value);\n  if (!shallow_equals__WEBPACK_IMPORTED_MODULE_2___default()(valueRef.current, value)) {\n    valueRef.current = value;\n  }\n  return valueRef.current;\n}\nconst addSelectedStateToMenuItems = options => {\n  const {\n    menuItems,\n    sortOrderRaw,\n    layout\n  } = options;\n  return menuItems == null ? void 0 : menuItems.map(item => {\n    var _a, _b, _c, _d;\n    if ((_a = item.params) == null ? void 0 : _a.layout) {\n      return {\n        ...item,\n        selected: layout === ((_b = item.params) == null ? void 0 : _b.layout)\n      };\n    }\n    if ((_c = item == null ? void 0 : item.params) == null ? void 0 : _c.by) {\n      return {\n        ...item,\n        selected: lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3___default()(sortOrderRaw == null ? void 0 : sortOrderRaw.by, ((_d = item == null ? void 0 : item.params) == null ? void 0 : _d.by) || EMPTY_ARRAY)\n      };\n    }\n    return {\n      ...item,\n      selected: false\n    };\n  });\n};\nconst DocumentListPane = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function DocumentListPane2(props) {\n  const {\n    childItemId,\n    index,\n    isActive,\n    isSelected,\n    pane,\n    paneKey\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useSchema)();\n  const {\n    name: parentSourceName\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useSource)();\n  const {\n    defaultLayout = \"default\",\n    displayOptions,\n    initialValueTemplates = EMPTY_ARRAY,\n    menuItemGroups,\n    menuItems,\n    options,\n    title\n  } = pane;\n  const {\n    apiVersion,\n    defaultOrdering = EMPTY_ARRAY,\n    filter\n  } = options;\n  const params = useShallowUnique(options.params || EMPTY_RECORD);\n  const sourceName = pane.source;\n  const typeName = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getTypeNameFromSingleTypeFilter(filter, params), [filter, params]);\n  const showIcons = (displayOptions == null ? void 0 : displayOptions.showIcons) !== false;\n  const [layout, setLayout] = (0,_index_0de920bc_js__WEBPACK_IMPORTED_MODULE_8__.useDeskToolSetting)(typeName, \"layout\", defaultLayout);\n  const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [searchInputValue, setSearchInputValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [searchInputElement, setSearchInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const showSearchLoadingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n  const defaultSortOrder = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    return (defaultOrdering == null ? void 0 : defaultOrdering.length) > 0 ? {\n      by: defaultOrdering\n    } : DEFAULT_ORDERING;\n  }, [defaultOrdering]);\n  const [sortOrderRaw, setSortOrder] = (0,_index_0de920bc_js__WEBPACK_IMPORTED_MODULE_8__.useDeskToolSetting)(typeName, \"sortOrder\", defaultSortOrder);\n  const sortWithOrderingFn = typeName && sortOrderRaw ? applyOrderingFunctions(sortOrderRaw, schema.get(typeName)) : sortOrderRaw;\n  const sortOrder = (0,sanity__WEBPACK_IMPORTED_MODULE_5__.useUnique)(sortWithOrderingFn);\n  const filterIsSimpleTypeConstraint = isSimpleTypeFilter(filter);\n  const {\n    error,\n    hasMaxItems,\n    isLazyLoading,\n    isLoading,\n    isSearchReady,\n    items,\n    onListChange,\n    onRetry\n  } = useDocumentList({\n    apiVersion,\n    filter,\n    params,\n    searchQuery: searchQuery == null ? void 0 : searchQuery.trim(),\n    sortOrder\n  });\n  const menuItemsWithSelectedState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => addSelectedStateToMenuItems({\n    menuItems,\n    sortOrderRaw,\n    layout\n  }), [layout, menuItems, sortOrderRaw]);\n  const handleQueryChange = (0,react_rx__WEBPACK_IMPORTED_MODULE_4__.useObservableCallback)(event$ => {\n    return event$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.map)(event => event.target.value), (0,rxjs__WEBPACK_IMPORTED_MODULE_36__.tap)(setSearchInputValue), (0,rxjs__WEBPACK_IMPORTED_MODULE_37__.debounce)(value => value === \"\" ? (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.of)(\"\") : (0,rxjs__WEBPACK_IMPORTED_MODULE_38__.timer)(300)), (0,rxjs__WEBPACK_IMPORTED_MODULE_36__.tap)(setSearchQuery));\n  }, []);\n  const handleClearSearch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setSearchQuery(\"\");\n    setSearchInputValue(\"\");\n  }, []);\n  const handleSearchKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(event => {\n    if (event.key === \"Escape\") {\n      handleClearSearch();\n    }\n  }, [handleClearSearch]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (showSearchLoadingRef.current === false && !isLoading) {\n      showSearchLoadingRef.current = true;\n    }\n    return () => {\n      showSearchLoadingRef.current = false;\n    };\n  }, [isLoading]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    handleClearSearch();\n    showSearchLoadingRef.current = false;\n  }, [paneKey, handleClearSearch]);\n  const loadingVariant = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const showSpinner = isLoading && items.length === 0 && showSearchLoadingRef.current;\n    if (showSpinner) return \"spinner\";\n    return \"initial\";\n  }, [isLoading, items.length]);\n  const searchInput = /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.Box, {\n    paddingX: 2,\n    paddingBottom: 2,\n    children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SearchCard, {\n      radius: 4,\n      tone: \"transparent\",\n      children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_17__.TextInput, {\n        \"aria-label\": \"Search list\",\n        autoComplete: \"off\",\n        border: false,\n        clearButton: Boolean(searchQuery),\n        disabled: !isSearchReady,\n        fontSize: [2, 2, 1],\n        icon: loadingVariant === \"spinner\" ? AnimatedSpinnerIcon : _sanity_icons__WEBPACK_IMPORTED_MODULE_18__.SearchIcon,\n        onChange: handleQueryChange,\n        onClear: handleClearSearch,\n        onKeyDown: handleSearchKeyDown,\n        placeholder: \"Search list\",\n        radius: 2,\n        ref: setSearchInputElement,\n        spellCheck: false,\n        value: searchInputValue\n      })\n    })\n  });\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_5__.SourceProvider, {\n    name: sourceName || parentSourceName,\n    children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__.Pane, {\n      currentMaxWidth: 350,\n      \"data-ui\": \"DocumentListPane\",\n      id: paneKey,\n      maxWidth: 640,\n      minWidth: 320,\n      selected: isSelected,\n      children: [_desk_5441fc6d_js__WEBPACK_IMPORTED_MODULE_7__._DEBUG, /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentListPaneHeader, {\n        contentAfter: searchInput,\n        index,\n        initialValueTemplates,\n        menuItemGroups,\n        menuItems: menuItemsWithSelectedState,\n        setLayout,\n        setSortOrder,\n        title\n      }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentListPaneContent, {\n        childItemId,\n        error,\n        filterIsSimpleTypeConstraint,\n        hasMaxItems,\n        hasSearchQuery: Boolean(searchQuery),\n        isActive,\n        isLazyLoading,\n        isLoading,\n        items,\n        layout,\n        loadingVariant,\n        onListChange,\n        onRetry,\n        paneTitle: title,\n        searchInputElement,\n        showIcons\n      }, paneKey)]\n    })\n  });\n});\n\n//# sourceMappingURL=index-3e777261.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1jbGllbnQpLy4vbm9kZV9tb2R1bGVzL3Nhbml0eS9saWIvX2NodW5rcy9pbmRleC0zZTc3NzI2MS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxnREFBZ0QsWUFBWSwwQkFBMEIsd0RBQXdELE9BQU8sNkJBQTZCO0FBQzFIO0FBQ3dCO0FBQzBCO0FBQy9EO0FBQ0g7QUFDeUM7QUFDM0I7QUFDOEg7QUFDbkk7QUFDaUo7QUFDM0s7QUFDNkg7QUFDM0Y7QUFDVDtBQUNvQztBQUNsQztBQUMxQjtBQUNJO0FBQ0E7QUFDOEU7QUFDbkM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0NBQU87QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBEQUFvQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNERBQVksYUFBYSw4REFBYztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMscUVBQXFCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFXO0FBQ3ZDO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsOEJBQThCLGtEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0EsR0FBRztBQUNILHlCQUF5Qiw4Q0FBTztBQUNoQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gscUNBQXFDLHNEQUFHLENBQUMsNENBQUc7QUFDNUM7QUFDQTtBQUNBLDZCQUE2QixzREFBRztBQUNoQztBQUNBO0FBQ0EsK0JBQStCLHNEQUFHLENBQUMsa0RBQVM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLHNEQUFVO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSCx3QkFBd0Isc0RBQUcsQ0FBQyxrREFBYztBQUMxQztBQUNBLDZCQUE2Qix1REFBSSxDQUFDLG1EQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixxREFBTSxpQkFBaUIsc0RBQUc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sa0JBQWtCLHNEQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQztBQUNzQztBQUN2QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc2FuaXR5L2xpYi9fY2h1bmtzL2luZGV4LTNlNzc3MjYxLmpzPzM5MjEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF90ZW1wbGF0ZU9iamVjdCwgX3RlbXBsYXRlT2JqZWN0MiwgX3RlbXBsYXRlT2JqZWN0MywgX3RlbXBsYXRlT2JqZWN0NCwgX3RlbXBsYXRlT2JqZWN0NTtcbmZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoc3RyaW5ncywgcmF3KSB7IGlmICghcmF3KSB7IHJhdyA9IHN0cmluZ3Muc2xpY2UoMCk7IH0gcmV0dXJuIE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywgeyByYXc6IHsgdmFsdWU6IE9iamVjdC5mcmVlemUocmF3KSB9IH0pKTsgfVxuaW1wb3J0IHsganN4cywgRnJhZ21lbnQsIGpzeCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCBtZW1vLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3gsIEZsZXgsIFNwaW5uZXIsIFRleHQsIENvbnRhaW5lciwgU3RhY2ssIEhlYWRpbmcsIEJ1dHRvbiwgQ2FyZCwgVGV4dElucHV0IH0gZnJvbSAnQHNhbml0eS91aSc7XG5pbXBvcnQgc2hhbGxvd0VxdWFscyBmcm9tICdzaGFsbG93LWVxdWFscyc7XG5pbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbC5qcyc7XG5pbXBvcnQgeyBTeW5jSWNvbiwgQXJyb3dMZWZ0SWNvbiwgU3Bpbm5lckljb24sIFNlYXJjaEljb24gfSBmcm9tICdAc2FuaXR5L2ljb25zJztcbmltcG9ydCBzdHlsZWQsIHsga2V5ZnJhbWVzIH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgZGVmZXIsIG1lcmdlTWFwLCB0aHJvd0Vycm9yLCBvZiwgc2hhcmUsIHBhcnRpdGlvbiwgbWVyZ2UsIHRha2UsIHRocm90dGxlVGltZSwgYXN5bmNTY2hlZHVsZXIsIFN1YmplY3QsIGNvbmNhdCwgZnJvbUV2ZW50LCBtYXAgYXMgbWFwJDEsIHRhcCwgZGVib3VuY2UsIHRpbWVyIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB1c2VPYnNlcnZhYmxlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdC1yeCc7XG5pbXBvcnQgeyBjb2xsYXRlLCB1c2VTY2hlbWEsIGdldFB1Ymxpc2hlZElkLCBDb21tYW5kTGlzdCwgU2FuaXR5RGVmYXVsdFByZXZpZXcsIGNyZWF0ZVNlYXJjaFF1ZXJ5LCB1c2VDbGllbnQsIERFRkFVTFRfU1RVRElPX0NMSUVOVF9PUFRJT05TLCB1c2VTb3VyY2UsIHVzZVVuaXF1ZSwgU291cmNlUHJvdmlkZXIgfSBmcm9tICdzYW5pdHknO1xuaW1wb3J0ICdzYW5pdHkvcm91dGVyJztcbmltcG9ydCB7IHVzZVBhbmVMYXlvdXQsIHVzZVBhbmUsIERlbGF5LCBQYW5lQ29udGVudCwgdXNlRGVza1Rvb2wsIFBhbmVIZWFkZXIsIFBhbmVIZWFkZXJBY3Rpb25zLCBCYWNrTGluaywgUGFuZSwgX0RFQlVHIH0gZnJvbSAnLi9kZXNrLTU0NDFmYzZkLmpzJztcbmltcG9ydCB7IHVzZURlc2tUb29sU2V0dGluZyB9IGZyb20gJy4vaW5kZXgtMGRlOTIwYmMuanMnO1xuaW1wb3J0ICogYXMgUGF0aFV0aWxzIGZyb20gJ0BzYW5pdHkvdXRpbC9wYXRocyc7XG5pbXBvcnQgeyBpc0tleVNlZ21lbnQsIGlzSW5kZXhTZWdtZW50LCBpc1JlZmVyZW5jZVNjaGVtYVR5cGUgfSBmcm9tICdAc2FuaXR5L3R5cGVzJztcbmltcG9ydCB7IFBhbmVJdGVtIH0gZnJvbSAnLi9QYW5lSXRlbS01MWQ2M2ZhYy5qcyc7XG5pbXBvcnQgJ2xvZGFzaC9vbWl0LmpzJztcbmltcG9ydCAnbG9kYXNoL2lzTnVtYmVyLmpzJztcbmltcG9ydCAnbG9kYXNoL2lzU3RyaW5nLmpzJztcbmltcG9ydCB7IG1hcCwgc3RhcnRXaXRoLCBjYXRjaEVycm9yLCB0YWtlIGFzIHRha2UkMSwgbWVyZ2VNYXAgYXMgbWVyZ2VNYXAkMSwgc2NhbiB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IGV4aGF1c3RNYXBXaXRoVHJhaWxpbmcgfSBmcm9tICdyeGpzLWV4aGF1c3RtYXAtd2l0aC10cmFpbGluZyc7XG5jb25zdCBQQVJUSUFMX1BBR0VfTElNSVQgPSAxMDA7XG5jb25zdCBGVUxMX0xJU1RfTElNSVQgPSAyZTM7XG5jb25zdCBERUZBVUxUX09SREVSSU5HID0ge1xuICBieTogW3tcbiAgICBmaWVsZDogXCJfdXBkYXRlZEF0XCIsXG4gICAgZGlyZWN0aW9uOiBcImRlc2NcIlxuICB9XVxufTtcbmNvbnN0IEVNUFRZX1JFQ09SRCA9IHt9O1xuZnVuY3Rpb24gcmVtb3ZlUHVibGlzaGVkV2l0aERyYWZ0cyhkb2N1bWVudHMpIHtcbiAgcmV0dXJuIGNvbGxhdGUoZG9jdW1lbnRzKS5tYXAoZW50cnkgPT4ge1xuICAgIGNvbnN0IGRvYyA9IGVudHJ5LmRyYWZ0IHx8IGVudHJ5LnB1Ymxpc2hlZDtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZG9jLFxuICAgICAgaGFzUHVibGlzaGVkOiAhIWVudHJ5LnB1Ymxpc2hlZCxcbiAgICAgIGhhc0RyYWZ0OiAhIWVudHJ5LmRyYWZ0XG4gICAgfTtcbiAgfSk7XG59XG5jb25zdCBSRV9UWVBFX05BTUVfSU5fRklMVEVSID0gL1xcYl90eXBlXFxzKj09XFxzKihbJ1wiXS4qP1snXCJdfFxcJC4qPyg/Olxcc3wkKSl8XFxCKFsnXCJdLio/WydcIl18XFwkLio/KD86XFxzfCQpKVxccyo9PVxccypfdHlwZVxcYi87XG5mdW5jdGlvbiBnZXRUeXBlTmFtZUZyb21TaW5nbGVUeXBlRmlsdGVyKGZpbHRlcikge1xuICBsZXQgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgY29uc3QgbWF0Y2hlcyA9IGZpbHRlci5tYXRjaChSRV9UWVBFX05BTUVfSU5fRklMVEVSKTtcbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgbWF0Y2ggPSAobWF0Y2hlc1sxXSB8fCBtYXRjaGVzWzJdKS50cmltKCkucmVwbGFjZSgvXltcIiddfFtcIiddJC9nLCBcIlwiKTtcbiAgaWYgKG1hdGNoWzBdID09PSBcIiRcIikge1xuICAgIGNvbnN0IGsgPSBtYXRjaC5zbGljZSgxKTtcbiAgICBjb25zdCB2ID0gcGFyYW1zW2tdO1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiA/IHYgOiBudWxsO1xuICB9XG4gIHJldHVybiBtYXRjaDtcbn1cbmZ1bmN0aW9uIGlzU2ltcGxlVHlwZUZpbHRlcihmaWx0ZXIpIHtcbiAgcmV0dXJuIC9eX3R5cGVcXHMqPT1cXHMqWydcIiRdXFx3K1snXCJdP1xccyokLy50ZXN0KGZpbHRlci50cmltKCkpO1xufVxuZnVuY3Rpb24gYXBwbHlPcmRlcmluZ0Z1bmN0aW9ucyhvcmRlciwgc2NoZW1hVHlwZSkge1xuICBjb25zdCBvcmRlckJ5ID0gb3JkZXIuYnkubWFwKGJ5ID0+IHtcbiAgICBpZiAoYnkubWFwV2l0aCkge1xuICAgICAgcmV0dXJuIGJ5O1xuICAgIH1cbiAgICBjb25zdCBmaWVsZFR5cGUgPSB0cnlSZXNvbHZlU2NoZW1hVHlwZUZvclBhdGgoc2NoZW1hVHlwZSwgYnkuZmllbGQpO1xuICAgIGlmICghZmllbGRUeXBlKSB7XG4gICAgICByZXR1cm4gYnk7XG4gICAgfVxuICAgIGlmIChmaWVsZEV4dGVuZHNUeXBlKGZpZWxkVHlwZSwgXCJkYXRldGltZVwiKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYnksXG4gICAgICAgIG1hcFdpdGg6IFwiZGF0ZVRpbWVcIlxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGZpZWxkVHlwZS5qc29uVHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYnksXG4gICAgICAgIG1hcFdpdGg6IFwibG93ZXJcIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5O1xuICB9KTtcbiAgcmV0dXJuIG9yZGVyQnkuZXZlcnkoKGl0ZW0sIGluZGV4KSA9PiBpdGVtID09PSBvcmRlci5ieVtpbmRleF0pID8gb3JkZXIgOiB7XG4gICAgLi4ub3JkZXIsXG4gICAgYnk6IG9yZGVyQnlcbiAgfTtcbn1cbmZ1bmN0aW9uIHRyeVJlc29sdmVTY2hlbWFUeXBlRm9yUGF0aChiYXNlVHlwZSwgcGF0aCkge1xuICBjb25zdCBwYXRoU2VnbWVudHMgPSBQYXRoVXRpbHMuZnJvbVN0cmluZyhwYXRoKTtcbiAgbGV0IGN1cnJlbnQgPSBiYXNlVHlwZTtcbiAgZm9yIChjb25zdCBzZWdtZW50IG9mIHBhdGhTZWdtZW50cykge1xuICAgIGlmICghY3VycmVudCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBjdXJyZW50ID0gZ2V0RmllbGRUeXBlQnlOYW1lKGN1cnJlbnQsIHNlZ21lbnQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGlzQXJyYXlBY2Nlc3NvciA9IGlzS2V5U2VnbWVudChzZWdtZW50KSB8fCBpc0luZGV4U2VnbWVudChzZWdtZW50KTtcbiAgICBpZiAoIWlzQXJyYXlBY2Nlc3NvciB8fCBjdXJyZW50Lmpzb25UeXBlICE9PSBcImFycmF5XCIpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGNvbnN0IFttZW1iZXJUeXBlLCBvdGhlclR5cGVdID0gY3VycmVudC5vZiB8fCBbXTtcbiAgICBpZiAob3RoZXJUeXBlIHx8ICFtZW1iZXJUeXBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoIWlzUmVmZXJlbmNlU2NoZW1hVHlwZShtZW1iZXJUeXBlKSkge1xuICAgICAgY3VycmVudCA9IG1lbWJlclR5cGU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgW3JlZlR5cGUsIG90aGVyUmVmVHlwZV0gPSBtZW1iZXJUeXBlLnRvIHx8IFtdO1xuICAgIGlmIChvdGhlclJlZlR5cGUgfHwgIXJlZlR5cGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGN1cnJlbnQgPSByZWZUeXBlO1xuICB9XG4gIHJldHVybiBjdXJyZW50O1xufVxuZnVuY3Rpb24gZ2V0RmllbGRUeXBlQnlOYW1lKHR5cGUsIGZpZWxkTmFtZSkge1xuICBpZiAoIShcImZpZWxkc1wiIGluIHR5cGUpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBmaWVsZFR5cGUgPSB0eXBlLmZpZWxkcy5maW5kKGZpZWxkID0+IGZpZWxkLm5hbWUgPT09IGZpZWxkTmFtZSk7XG4gIHJldHVybiBmaWVsZFR5cGUgPyBmaWVsZFR5cGUudHlwZSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIGZpZWxkRXh0ZW5kc1R5cGUoZmllbGQsIG9mVHlwZSkge1xuICBsZXQgY3VycmVudCA9IGZpZWxkLnR5cGU7XG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgaWYgKGN1cnJlbnQubmFtZSA9PT0gb2ZUeXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFjdXJyZW50LnR5cGUgJiYgY3VycmVudC5qc29uVHlwZSA9PT0gb2ZUeXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY3VycmVudCA9IGN1cnJlbnQudHlwZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5jb25zdCBSb290Qm94ID0gc3R5bGVkKEJveCkoX3RlbXBsYXRlT2JqZWN0IHx8IChfdGVtcGxhdGVPYmplY3QgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFtcIlxcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcblwiXSkpKTtcbmNvbnN0IENvbW1hbmRMaXN0Qm94ID0gc3R5bGVkKEJveCkoX3RlbXBsYXRlT2JqZWN0MiB8fCAoX3RlbXBsYXRlT2JqZWN0MiA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICBib3R0b206IDA7XFxuXCJdKSkpO1xuY29uc3QgU0tFTEVUT05fSVRFTVMgPSBbLi4uQXJyYXkoMzApLmtleXMoKV07XG5mdW5jdGlvbiBMb2FkaW5nVmlldyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgbGF5b3V0XG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChTdGFjaywge1xuICAgIHBhZGRpbmc6IDIsXG4gICAgc3BhY2U6IDEsXG4gICAgY2hpbGRyZW46IFNLRUxFVE9OX0lURU1TLm1hcChudW0gPT4gLyogQF9fUFVSRV9fICovanN4KENhcmQsIHtcbiAgICAgIHBhZGRpbmc6IDIsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KFNhbml0eURlZmF1bHRQcmV2aWV3LCB7XG4gICAgICAgIGlzUGxhY2Vob2xkZXI6IHRydWUsXG4gICAgICAgIGxheW91dFxuICAgICAgfSlcbiAgICB9LCBudW0pKVxuICB9KTtcbn1cbmZ1bmN0aW9uIERvY3VtZW50TGlzdFBhbmVDb250ZW50KHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZEl0ZW1JZCxcbiAgICBlcnJvcixcbiAgICBmaWx0ZXJJc1NpbXBsZVR5cGVDb25zdHJhaW50LFxuICAgIGhhc01heEl0ZW1zLFxuICAgIGhhc1NlYXJjaFF1ZXJ5LFxuICAgIGlzQWN0aXZlLFxuICAgIGlzTGF6eUxvYWRpbmcsXG4gICAgaXNMb2FkaW5nLFxuICAgIGl0ZW1zLFxuICAgIGxheW91dCxcbiAgICBsb2FkaW5nVmFyaWFudCxcbiAgICBvbkxpc3RDaGFuZ2UsXG4gICAgb25SZXRyeSxcbiAgICBwYW5lVGl0bGUsXG4gICAgc2VhcmNoSW5wdXRFbGVtZW50LFxuICAgIHNob3dJY29uc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHNjaGVtYSA9IHVzZVNjaGVtYSgpO1xuICBjb25zdCB7XG4gICAgY29sbGFwc2VkOiBsYXlvdXRDb2xsYXBzZWRcbiAgfSA9IHVzZVBhbmVMYXlvdXQoKTtcbiAgY29uc3Qge1xuICAgIGNvbGxhcHNlZCxcbiAgICBpbmRleFxuICB9ID0gdXNlUGFuZSgpO1xuICBjb25zdCBbc2hvdWxkUmVuZGVyLCBzZXRTaG91bGRSZW5kZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBoYW5kbGVFbmRSZWFjaGVkID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChpc0xvYWRpbmcgfHwgaXNMYXp5TG9hZGluZyB8fCAhc2hvdWxkUmVuZGVyKSByZXR1cm47XG4gICAgb25MaXN0Q2hhbmdlKCk7XG4gIH0sIFtpc0xhenlMb2FkaW5nLCBpc0xvYWRpbmcsIG9uTGlzdENoYW5nZSwgc2hvdWxkUmVuZGVyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbGxhcHNlZCkgcmV0dXJuIHZvaWQgMDtcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0U2hvdWxkUmVuZGVyKHRydWUpO1xuICAgIH0sIDApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH07XG4gIH0sIFtjb2xsYXBzZWQsIGl0ZW1zXSk7XG4gIGNvbnN0IHJlbmRlckl0ZW0gPSB1c2VDYWxsYmFjaygoaXRlbSwgX3JlZikgPT4ge1xuICAgIGxldCB7XG4gICAgICBhY3RpdmVJbmRleFxuICAgIH0gPSBfcmVmO1xuICAgIGNvbnN0IHB1Ymxpc2hlZElkID0gZ2V0UHVibGlzaGVkSWQoaXRlbS5faWQpO1xuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBjaGlsZEl0ZW1JZCA9PT0gcHVibGlzaGVkSWQ7XG4gICAgY29uc3QgcHJlc3NlZCA9ICFpc0FjdGl2ZSAmJiBpc1NlbGVjdGVkO1xuICAgIGNvbnN0IHNlbGVjdGVkID0gaXNBY3RpdmUgJiYgaXNTZWxlY3RlZDtcbiAgICBjb25zdCBpc0xhc3RJdGVtID0gYWN0aXZlSW5kZXggPT09IGl0ZW1zLmxlbmd0aCAtIDE7XG4gICAgY29uc3Qgc2hvd1NwaW5uZXIgPSBpc0xhc3RJdGVtICYmIGlzTGF6eUxvYWRpbmc7XG4gICAgY29uc3Qgc2hvd01heEl0ZW1zTWVzc2FnZSA9IGlzTGFzdEl0ZW0gJiYgaGFzTWF4SXRlbXM7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeHMoRnJhZ21lbnQsIHtcbiAgICAgIGNoaWxkcmVuOiBbLyogQF9fUFVSRV9fICovanN4KFBhbmVJdGVtLCB7XG4gICAgICAgIGljb246IHNob3dJY29ucyA9PT0gZmFsc2UgPyBmYWxzZSA6IHZvaWQgMCxcbiAgICAgICAgaWQ6IHB1Ymxpc2hlZElkLFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMSxcbiAgICAgICAgcHJlc3NlZCxcbiAgICAgICAgc2NoZW1hVHlwZTogc2NoZW1hLmdldChpdGVtLl90eXBlKSxcbiAgICAgICAgc2VsZWN0ZWQsXG4gICAgICAgIHZhbHVlOiBpdGVtXG4gICAgICB9KSwgc2hvd1NwaW5uZXIgJiYgLyogQF9fUFVSRV9fICovanN4KEZsZXgsIHtcbiAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGp1c3RpZnk6IFwiY2VudGVyXCIsXG4gICAgICAgIHBhZGRpbmc6IDQsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goU3Bpbm5lciwge1xuICAgICAgICAgIG11dGVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICB9KSwgc2hvd01heEl0ZW1zTWVzc2FnZSAmJiAvKiBAX19QVVJFX18gKi9qc3goQm94LCB7XG4gICAgICAgIG1hcmdpblk6IDEsXG4gICAgICAgIHBhZGRpbmdYOiAzLFxuICAgICAgICBwYWRkaW5nWTogNCxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeHMoVGV4dCwge1xuICAgICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgIG11dGVkOiB0cnVlLFxuICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgY2hpbGRyZW46IFtcIkRpc3BsYXlpbmcgYSBtYXhpbXVtIG9mIFwiLCBGVUxMX0xJU1RfTElNSVQsIFwiIGRvY3VtZW50c1wiXVxuICAgICAgICB9KVxuICAgICAgfSldXG4gICAgfSk7XG4gIH0sIFtjaGlsZEl0ZW1JZCwgaXNBY3RpdmUsIGl0ZW1zLmxlbmd0aCwgbGF5b3V0LCBzY2hlbWEsIHNob3dJY29ucywgaGFzTWF4SXRlbXMsIGlzTGF6eUxvYWRpbmddKTtcbiAgY29uc3Qgbm9Eb2N1bWVudHNDb250ZW50ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGhhc1NlYXJjaFF1ZXJ5KSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KEZsZXgsIHtcbiAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgaGVpZ2h0OiBcImZpbGxcIixcbiAgICAgICAganVzdGlmeTogXCJjZW50ZXJcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChDb250YWluZXIsIHtcbiAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KEJveCwge1xuICAgICAgICAgICAgcGFkZGluZ1g6IDQsXG4gICAgICAgICAgICBwYWRkaW5nWTogNSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goVGV4dCwge1xuICAgICAgICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBcIk5vIHJlc3VsdHMgZm91bmRcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goRmxleCwge1xuICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICBkaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICBoZWlnaHQ6IFwiZmlsbFwiLFxuICAgICAganVzdGlmeTogXCJjZW50ZXJcIixcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQ29udGFpbmVyLCB7XG4gICAgICAgIHdpZHRoOiAxLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KEJveCwge1xuICAgICAgICAgIHBhZGRpbmdYOiA0LFxuICAgICAgICAgIHBhZGRpbmdZOiA1LFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goVGV4dCwge1xuICAgICAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICBtdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBmaWx0ZXJJc1NpbXBsZVR5cGVDb25zdHJhaW50ID8gXCJObyBkb2N1bWVudHMgb2YgdGhpcyB0eXBlXCIgOiBcIk5vIG1hdGNoaW5nIGRvY3VtZW50c1wiXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSk7XG4gIH0sIFtmaWx0ZXJJc1NpbXBsZVR5cGVDb25zdHJhaW50LCBoYXNTZWFyY2hRdWVyeV0pO1xuICBjb25zdCBtYWluQ29udGVudCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2hvdWxkUmVuZGVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KEZsZXgsIHtcbiAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgaGVpZ2h0OiBcImZpbGxcIixcbiAgICAgICAganVzdGlmeTogXCJjZW50ZXJcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChDb250YWluZXIsIHtcbiAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4cyhTdGFjaywge1xuICAgICAgICAgICAgcGFkZGluZ1g6IDQsXG4gICAgICAgICAgICBwYWRkaW5nWTogNSxcbiAgICAgICAgICAgIHNwYWNlOiA0LFxuICAgICAgICAgICAgY2hpbGRyZW46IFsvKiBAX19QVVJFX18gKi9qc3goSGVhZGluZywge1xuICAgICAgICAgICAgICBhczogXCJoM1wiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogXCJDb3VsZCBub3QgZmV0Y2ggbGlzdCBpdGVtc1wiXG4gICAgICAgICAgICB9KSwgLyogQF9fUFVSRV9fICovanN4cyhUZXh0LCB7XG4gICAgICAgICAgICAgIGFzOiBcInBcIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcIkVycm9yOiBcIiwgLyogQF9fUFVSRV9fICovanN4KFwiY29kZVwiLCB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSldXG4gICAgICAgICAgICB9KSwgb25SZXRyeSAmJiAvKiBAX19QVVJFX18gKi9qc3goQm94LCB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQnV0dG9uLCB7XG4gICAgICAgICAgICAgICAgaWNvbjogU3luY0ljb24sXG4gICAgICAgICAgICAgICAgb25DbGljazogb25SZXRyeSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlJldHJ5XCIsXG4gICAgICAgICAgICAgICAgdG9uZTogXCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFpc0xvYWRpbmcgJiYgaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbm9Eb2N1bWVudHNDb250ZW50O1xuICAgIH1cbiAgICBpZiAobG9hZGluZ1ZhcmlhbnQgPT09IFwiaW5pdGlhbFwiICYmIGlzTG9hZGluZykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChEZWxheSwge1xuICAgICAgICBtczogMzAwLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KExvYWRpbmdWaWV3LCB7XG4gICAgICAgICAgbGF5b3V0XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGxvYWRpbmdWYXJpYW50ID09PSBcInNwaW5uZXJcIiAmJiBpc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBcIlwiLmNvbmNhdChpbmRleCwgXCItXCIpLmNvbmNhdChjb2xsYXBzZWQpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goUm9vdEJveCwge1xuICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICBoZWlnaHQ6IFwiZmlsbFwiLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChDb21tYW5kTGlzdEJveCwge1xuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KENvbW1hbmRMaXN0LCB7XG4gICAgICAgICAgYWN0aXZlSXRlbURhdGFBdHRyOiBcImRhdGEtaG92ZXJlZFwiLFxuICAgICAgICAgIGFyaWFMYWJlbDogcGFuZVRpdGxlLFxuICAgICAgICAgIGNhblJlY2VpdmVGb2N1czogdHJ1ZSxcbiAgICAgICAgICBmb2N1c1JpbmdPZmZzZXQ6IC0zLFxuICAgICAgICAgIGlucHV0RWxlbWVudDogc2VhcmNoSW5wdXRFbGVtZW50LFxuICAgICAgICAgIGl0ZW1IZWlnaHQ6IDUxLFxuICAgICAgICAgIGl0ZW1zLFxuICAgICAgICAgIG9uRW5kUmVhY2hlZDogaGFuZGxlRW5kUmVhY2hlZCxcbiAgICAgICAgICBvbmx5U2hvd1NlbGVjdGlvbldoZW5BY3RpdmU6IHRydWUsXG4gICAgICAgICAgb3ZlcnNjYW46IDEwLFxuICAgICAgICAgIHBhZGRpbmc6IDIsXG4gICAgICAgICAgcGFkZGluZ0JvdHRvbTogMSxcbiAgICAgICAgICByZW5kZXJJdGVtLFxuICAgICAgICAgIHdyYXBBcm91bmQ6IGZhbHNlXG4gICAgICAgIH0sIGtleSlcbiAgICAgIH0pXG4gICAgfSk7XG4gIH0sIFtjb2xsYXBzZWQsIGVycm9yLCBoYW5kbGVFbmRSZWFjaGVkLCBpbmRleCwgaXNMb2FkaW5nLCBpdGVtcywgbGF5b3V0LCBsb2FkaW5nVmFyaWFudCxcbiAgLy8gbm9Eb2N1bWVudHNDb250ZW50LFxuICBvblJldHJ5LCByZW5kZXJJdGVtLCBzZWFyY2hJbnB1dEVsZW1lbnQsIHNob3VsZFJlbmRlcl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFBhbmVDb250ZW50LCB7XG4gICAgb3ZlcmZsb3c6IGxheW91dENvbGxhcHNlZCB8fCBsb2FkaW5nVmFyaWFudCA9PT0gXCJpbml0aWFsXCIgPyBcImhpZGRlblwiIDogXCJhdXRvXCIsXG4gICAgY2hpbGRyZW46IG1haW5Db250ZW50XG4gIH0pO1xufVxuY29uc3QgRG9jdW1lbnRMaXN0UGFuZUhlYWRlciA9IG1lbW8oX3JlZjIgPT4ge1xuICBsZXQge1xuICAgIGNvbnRlbnRBZnRlcixcbiAgICBpbmRleCxcbiAgICBpbml0aWFsVmFsdWVUZW1wbGF0ZXMgPSBbXSxcbiAgICBtZW51SXRlbUdyb3VwcyA9IFtdLFxuICAgIG1lbnVJdGVtcyA9IFtdLFxuICAgIHNldExheW91dCxcbiAgICBzZXRTb3J0T3JkZXIsXG4gICAgdGl0bGVcbiAgfSA9IF9yZWYyO1xuICBjb25zdCB7XG4gICAgZmVhdHVyZXNcbiAgfSA9IHVzZURlc2tUb29sKCk7XG4gIGNvbnN0IHtcbiAgICBjb2xsYXBzZWQsXG4gICAgaXNMYXN0XG4gIH0gPSB1c2VQYW5lKCk7XG4gIGNvbnN0IHRhYkluZGV4ID0gaXNMYXN0ICYmICFjb2xsYXBzZWQgPyAtMSA6IDA7XG4gIGNvbnN0IGFjdGlvbkhhbmRsZXJzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldExheW91dDogX3JlZjMgPT4ge1xuICAgICAgICBsZXQge1xuICAgICAgICAgIGxheW91dDogdmFsdWVcbiAgICAgICAgfSA9IF9yZWYzO1xuICAgICAgICBzZXRMYXlvdXQodmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHNldFNvcnRPcmRlcjogc29ydCA9PiB7XG4gICAgICAgIHNldFNvcnRPcmRlcihzb3J0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbc2V0TGF5b3V0LCBzZXRTb3J0T3JkZXJdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lSGVhZGVyLCB7XG4gICAgYWN0aW9uczogLyogQF9fUFVSRV9fICovanN4KFBhbmVIZWFkZXJBY3Rpb25zLCB7XG4gICAgICBpbml0aWFsVmFsdWVUZW1wbGF0ZUl0ZW1zOiBpbml0aWFsVmFsdWVUZW1wbGF0ZXMsXG4gICAgICBhY3Rpb25IYW5kbGVycyxcbiAgICAgIG1lbnVJdGVtR3JvdXBzLFxuICAgICAgbWVudUl0ZW1zXG4gICAgfSksXG4gICAgYmFja0J1dHRvbjogZmVhdHVyZXMuYmFja0J1dHRvbiAmJiBpbmRleCA+IDAgJiYgLyogQF9fUFVSRV9fICovanN4KEJ1dHRvbiwge1xuICAgICAgYXM6IEJhY2tMaW5rLFxuICAgICAgXCJkYXRhLWFzXCI6IFwiYVwiLFxuICAgICAgaWNvbjogQXJyb3dMZWZ0SWNvbixcbiAgICAgIG1vZGU6IFwiYmxlZWRcIlxuICAgIH0pLFxuICAgIGNvbnRlbnRBZnRlcixcbiAgICB0YWJJbmRleCxcbiAgICB0aXRsZVxuICB9KTtcbn0pO1xuRG9jdW1lbnRMaXN0UGFuZUhlYWRlci5kaXNwbGF5TmFtZSA9IFwiRG9jdW1lbnRMaXN0UGFuZUhlYWRlclwiO1xuZnVuY3Rpb24gbGlzdGVuU2VhcmNoUXVlcnkob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgY2xpZW50LFxuICAgIHNjaGVtYSxcbiAgICBzb3J0LFxuICAgIGxpbWl0LFxuICAgIHBhcmFtcyxcbiAgICBmaWx0ZXIsXG4gICAgc2VhcmNoUXVlcnksXG4gICAgc3RhdGljVHlwZU5hbWVzXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBzb3J0QnkgPSBzb3J0LmJ5O1xuICBjb25zdCBleHRlbmRlZFByb2plY3Rpb24gPSBzb3J0ID09IG51bGwgPyB2b2lkIDAgOiBzb3J0LmV4dGVuZGVkUHJvamVjdGlvbjtcbiAgY29uc3QgZXZlbnRzJCA9IGRlZmVyKCgpID0+IHtcbiAgICByZXR1cm4gY2xpZW50Lmxpc3RlbihcIipbXCIuY29uY2F0KGZpbHRlciwgXCJdXCIpLCBwYXJhbXMsIHtcbiAgICAgIGV2ZW50czogW1wid2VsY29tZVwiLCBcIm11dGF0aW9uXCIsIFwicmVjb25uZWN0XCJdLFxuICAgICAgaW5jbHVkZVJlc3VsdDogZmFsc2UsXG4gICAgICB2aXNpYmlsaXR5OiBcInF1ZXJ5XCJcbiAgICB9KTtcbiAgfSkucGlwZShtZXJnZU1hcCgoZXYsIGkpID0+IHtcbiAgICBjb25zdCBpc0ZpcnN0ID0gaSA9PT0gMDtcbiAgICBpZiAoaXNGaXJzdCAmJiBldi50eXBlICE9PSBcIndlbGNvbWVcIikge1xuICAgICAgcmV0dXJuIHRocm93RXJyb3IoKCkgPT4gbmV3IEVycm9yKGV2LnR5cGUgPT09IFwicmVjb25uZWN0XCIgPyBcIkNvdWxkIG5vdCBlc3RhYmxpc2ggRXZlbnRTb3VyY2UgY29ubmVjdGlvblwiIDogXCJSZWNlaXZlZCB1bmV4cGVjdGVkIHR5cGUgb2YgZmlyc3QgZXZlbnQgXFxcIlwiLmNvbmNhdChldi50eXBlLCBcIlxcXCJcIikpKTtcbiAgICB9XG4gICAgcmV0dXJuIG9mKGV2KTtcbiAgfSksIHNoYXJlKCkpO1xuICBjb25zdCBbd2VsY29tZSQsIG11dGF0aW9uQW5kUmVjb25uZWN0JF0gPSBwYXJ0aXRpb24oZXZlbnRzJCwgZXYgPT4gZXYudHlwZSA9PT0gXCJ3ZWxjb21lXCIpO1xuICByZXR1cm4gbWVyZ2Uod2VsY29tZSQucGlwZSh0YWtlKDEpKSwgbXV0YXRpb25BbmRSZWNvbm5lY3QkLnBpcGUodGhyb3R0bGVUaW1lKDFlMywgYXN5bmNTY2hlZHVsZXIsIHtcbiAgICBsZWFkaW5nOiB0cnVlLFxuICAgIHRyYWlsaW5nOiB0cnVlXG4gIH0pKSkucGlwZShleGhhdXN0TWFwV2l0aFRyYWlsaW5nKCgpID0+IHtcbiAgICBjb25zdCB0eXBlTmFtZXMkID0gc3RhdGljVHlwZU5hbWVzID8gb2Yoc3RhdGljVHlwZU5hbWVzKSA6IGNsaWVudC5vYnNlcnZhYmxlLmZldGNoKFwiYXJyYXk6OnVuaXF1ZSgqW1wiLmNvbmNhdChmaWx0ZXIsIFwiXVtdLl90eXBlKVwiKSwgcGFyYW1zKTtcbiAgICByZXR1cm4gdHlwZU5hbWVzJC5waXBlKG1lcmdlTWFwKHR5cGVOYW1lcyA9PiB7XG4gICAgICBjb25zdCB0eXBlcyA9IHR5cGVOYW1lcy5mbGF0TWFwKG5hbWUgPT4gc2NoZW1hLmdldChuYW1lKSB8fCBbXSk7XG4gICAgICBjb25zdCBzZWFyY2hUZXJtcyA9IHtcbiAgICAgICAgZmlsdGVyLFxuICAgICAgICBxdWVyeTogc2VhcmNoUXVlcnkgfHwgXCJcIixcbiAgICAgICAgdHlwZXNcbiAgICAgIH07XG4gICAgICBjb25zdCBzZWFyY2hPcHRpb25zID0ge1xuICAgICAgICBfX3Vuc3RhYmxlX2V4dGVuZGVkUHJvamVjdGlvbjogZXh0ZW5kZWRQcm9qZWN0aW9uLFxuICAgICAgICBjb21tZW50czogW1wiZmluZGFiaWxpdHktc291cmNlOiBcIi5jb25jYXQoc2VhcmNoUXVlcnkgPyBcImxpc3QtcXVlcnlcIiA6IFwibGlzdFwiKV0sXG4gICAgICAgIGxpbWl0LFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHNvcnQ6IHNvcnRCeVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcXVlcnk6IGNyZWF0ZWRRdWVyeSxcbiAgICAgICAgcGFyYW1zOiBjcmVhdGVkUGFyYW1zXG4gICAgICB9ID0gY3JlYXRlU2VhcmNoUXVlcnkoc2VhcmNoVGVybXMsIHNlYXJjaE9wdGlvbnMpO1xuICAgICAgcmV0dXJuIGNsaWVudC5vYnNlcnZhYmxlLmZldGNoKGNyZWF0ZWRRdWVyeSwgY3JlYXRlZFBhcmFtcyk7XG4gICAgfSkpO1xuICB9KSk7XG59XG5jb25zdCBFTVBUWV9BUlJBWSQxID0gW107XG5jb25zdCBJTklUSUFMX1NUQVRFID0ge1xuICBlcnJvcjogbnVsbCxcbiAgb25SZXRyeTogdm9pZCAwLFxuICByZXN1bHQ6IG51bGxcbn07XG5jb25zdCBJTklUSUFMX1FVRVJZX1JFU1VMVFMgPSB7XG4gIHJlc3VsdDogbnVsbCxcbiAgZXJyb3I6IG51bGxcbn07XG5mdW5jdGlvbiB1c2VEb2N1bWVudExpc3Qob3B0cykge1xuICBjb25zdCB7XG4gICAgZmlsdGVyLFxuICAgIHBhcmFtczogcGFyYW1zUHJvcCxcbiAgICBzb3J0T3JkZXIsXG4gICAgc2VhcmNoUXVlcnlcbiAgfSA9IG9wdHM7XG4gIGNvbnN0IGNsaWVudCA9IHVzZUNsaWVudChERUZBVUxUX1NUVURJT19DTElFTlRfT1BUSU9OUyk7XG4gIGNvbnN0IHNjaGVtYSA9IHVzZVNjaGVtYSgpO1xuICBjb25zdCBbcmVzdWx0U3RhdGUsIHNldFJlc3VsdF0gPSB1c2VTdGF0ZShJTklUSUFMX1NUQVRFKTtcbiAgY29uc3Qge1xuICAgIG9uUmV0cnksXG4gICAgZXJyb3IsXG4gICAgcmVzdWx0XG4gIH0gPSByZXN1bHRTdGF0ZTtcbiAgY29uc3QgZG9jdW1lbnRzID0gcmVzdWx0ID09IG51bGwgPyB2b2lkIDAgOiByZXN1bHQuZG9jdW1lbnRzO1xuICBjb25zdCBpdGVtcyA9IHVzZU1lbW8oKCkgPT4gZG9jdW1lbnRzID8gcmVtb3ZlUHVibGlzaGVkV2l0aERyYWZ0cyhkb2N1bWVudHMpIDogRU1QVFlfQVJSQVkkMSwgW2RvY3VtZW50c10pO1xuICBjb25zdCBbaXNMYXp5TG9hZGluZywgc2V0SXNMYXp5TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtoYXNGdWxsTGlzdCwgc2V0SGFzRnVsbExpc3RdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvdWxkRmV0Y2hGdWxsTGlzdCwgc2V0U2hvdWxkRmV0Y2hGdWxsTGlzdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHR5cGVOYW1lRnJvbUZpbHRlciA9IHVzZU1lbW8oKCkgPT4gZ2V0VHlwZU5hbWVGcm9tU2luZ2xlVHlwZUZpbHRlcihmaWx0ZXIsIHBhcmFtc1Byb3ApLCBbZmlsdGVyLCBwYXJhbXNQcm9wXSk7XG4gIGNvbnN0IGlzTG9hZGluZyA9IHJlc3VsdCA9PT0gbnVsbCAmJiAhZXJyb3I7XG4gIGNvbnN0IGhhc01heEl0ZW1zID0gKGRvY3VtZW50cyA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnRzLmxlbmd0aCkgPT09IEZVTExfTElTVF9MSU1JVDtcbiAgY29uc3Qgb25MaXN0Q2hhbmdlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChpc0xvYWRpbmcgfHwgaGFzRnVsbExpc3QgfHwgc2hvdWxkRmV0Y2hGdWxsTGlzdCkgcmV0dXJuO1xuICAgIHNldFNob3VsZEZldGNoRnVsbExpc3QodHJ1ZSk7XG4gIH0sIFtpc0xvYWRpbmcsIGhhc0Z1bGxMaXN0LCBzaG91bGRGZXRjaEZ1bGxMaXN0XSk7XG4gIGNvbnN0IGhhbmRsZVNldFJlc3VsdCA9IHVzZUNhbGxiYWNrKHJlcyA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICBzZXRSZXN1bHQocmVzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZG9jdW1lbnRzTGVuZ3RoID0gKChfYiA9IChfYSA9IHJlcy5yZXN1bHQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kb2N1bWVudHMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5sZW5ndGgpIHx8IDA7XG4gICAgY29uc3QgaXNMb2FkaW5nTW9yZUl0ZW1zID0gIXJlcy5lcnJvciAmJiAocmVzID09IG51bGwgPyB2b2lkIDAgOiByZXMucmVzdWx0KSA9PT0gbnVsbCAmJiBzaG91bGRGZXRjaEZ1bGxMaXN0O1xuICAgIGlmIChpc0xvYWRpbmdNb3JlSXRlbXMpIHtcbiAgICAgIHNldElzTGF6eUxvYWRpbmcodHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChkb2N1bWVudHNMZW5ndGggPCBQQVJUSUFMX1BBR0VfTElNSVQgJiYgZG9jdW1lbnRzTGVuZ3RoICE9PSAwICYmICFzaG91bGRGZXRjaEZ1bGxMaXN0KSB7XG4gICAgICBzZXRIYXNGdWxsTGlzdCh0cnVlKTtcbiAgICB9XG4gICAgaWYgKChyZXMgPT0gbnVsbCA/IHZvaWQgMCA6IHJlcy5yZXN1bHQpID09PSBudWxsKSB7XG4gICAgICBzZXRSZXN1bHQocHJldiA9PiAoe1xuICAgICAgICAuLi4ocHJldi5lcnJvciA/IHJlcyA6IHByZXYpXG4gICAgICB9KSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldElzTGF6eUxvYWRpbmcoZmFsc2UpO1xuICAgIHNldFJlc3VsdChyZXMpO1xuICB9LCBbc2hvdWxkRmV0Y2hGdWxsTGlzdF0pO1xuICBjb25zdCBxdWVyeVJlc3VsdHMkID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3Qgb25SZXRyeSQgPSBuZXcgU3ViamVjdCgpO1xuICAgIGNvbnN0IF9vblJldHJ5ID0gKCkgPT4gb25SZXRyeSQubmV4dCgpO1xuICAgIGNvbnN0IGxpbWl0ID0gc2hvdWxkRmV0Y2hGdWxsTGlzdCA/IEZVTExfTElTVF9MSU1JVCA6IFBBUlRJQUxfUEFHRV9MSU1JVDtcbiAgICBjb25zdCBzb3J0ID0gc29ydE9yZGVyIHx8IERFRkFVTFRfT1JERVJJTkc7XG4gICAgcmV0dXJuIGxpc3RlblNlYXJjaFF1ZXJ5KHtcbiAgICAgIGNsaWVudCxcbiAgICAgIGZpbHRlcixcbiAgICAgIGxpbWl0LFxuICAgICAgcGFyYW1zOiBwYXJhbXNQcm9wLFxuICAgICAgc2NoZW1hLFxuICAgICAgc2VhcmNoUXVlcnk6IHNlYXJjaFF1ZXJ5IHx8IFwiXCIsXG4gICAgICBzb3J0LFxuICAgICAgc3RhdGljVHlwZU5hbWVzOiB0eXBlTmFtZUZyb21GaWx0ZXIgPyBbdHlwZU5hbWVGcm9tRmlsdGVyXSA6IHZvaWQgMFxuICAgIH0pLnBpcGUobWFwKHJlc3VsdHMgPT4gKHtcbiAgICAgIHJlc3VsdDoge1xuICAgICAgICBkb2N1bWVudHM6IHJlc3VsdHNcbiAgICAgIH0sXG4gICAgICBlcnJvcjogbnVsbFxuICAgIH0pKSwgc3RhcnRXaXRoKElOSVRJQUxfUVVFUllfUkVTVUxUUyksIGNhdGNoRXJyb3IoZXJyID0+IHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBQcm9ncmVzc0V2ZW50KSB7XG4gICAgICAgIHJldHVybiB0aHJvd0Vycm9yKCgpID0+IG5ldyBFcnJvcihcIlJlcXVlc3QgZXJyb3JcIikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRocm93RXJyb3IoKCkgPT4gZXJyKTtcbiAgICB9KSwgY2F0Y2hFcnJvcigoZXJyLCBjYXVnaHQkKSA9PiB7XG4gICAgICByZXR1cm4gY29uY2F0KG9mKHtcbiAgICAgICAgcmVzdWx0OiBudWxsLFxuICAgICAgICBlcnJvcjogZXJyXG4gICAgICB9KSwgbWVyZ2UoZnJvbUV2ZW50KHdpbmRvdywgXCJvbmxpbmVcIiksIG9uUmV0cnkkKS5waXBlKHRha2UkMSgxKSwgbWVyZ2VNYXAkMSgoKSA9PiBjYXVnaHQkKSkpO1xuICAgIH0pLCBzY2FuKChwcmV2LCBuZXh0KSA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIC4uLm5leHQsXG4gICAgICBvblJldHJ5OiBfb25SZXRyeVxuICAgIH0pKSk7XG4gIH0sIFtjbGllbnQsIGZpbHRlciwgcGFyYW1zUHJvcCwgc2NoZW1hLCBzZWFyY2hRdWVyeSwgc2hvdWxkRmV0Y2hGdWxsTGlzdCwgc29ydE9yZGVyLCB0eXBlTmFtZUZyb21GaWx0ZXJdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzdWIgPSBxdWVyeVJlc3VsdHMkLnN1YnNjcmliZShoYW5kbGVTZXRSZXN1bHQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9LCBbaGFuZGxlU2V0UmVzdWx0LCBxdWVyeVJlc3VsdHMkXSk7XG4gIGNvbnN0IHJlc2V0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEhhc0Z1bGxMaXN0KGZhbHNlKTtcbiAgICBzZXRJc0xhenlMb2FkaW5nKGZhbHNlKTtcbiAgICBzZXRSZXN1bHQoSU5JVElBTF9TVEFURSk7XG4gICAgc2V0U2hvdWxkRmV0Y2hGdWxsTGlzdChmYWxzZSk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXNldCgpO1xuICB9LCBbcmVzZXQsIGZpbHRlciwgcGFyYW1zUHJvcCwgc29ydE9yZGVyLCBzZWFyY2hRdWVyeV0pO1xuICByZXR1cm4ge1xuICAgIGVycm9yLFxuICAgIGhhc01heEl0ZW1zLFxuICAgIGlzTGF6eUxvYWRpbmcsXG4gICAgaXNMb2FkaW5nLFxuICAgIGlzU2VhcmNoUmVhZHk6ICFlcnJvcixcbiAgICBpdGVtcyxcbiAgICBvbkxpc3RDaGFuZ2UsXG4gICAgb25SZXRyeVxuICB9O1xufVxuY29uc3QgRU1QVFlfQVJSQVkgPSBbXTtcbmNvbnN0IHJvdGF0ZSA9IGtleWZyYW1lcyhfdGVtcGxhdGVPYmplY3QzIHx8IChfdGVtcGxhdGVPYmplY3QzID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGZyb20ge1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gIH1cXG4gIHRvIHtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcXG4gIH1cXG5cIl0pKSk7XG5jb25zdCBBbmltYXRlZFNwaW5uZXJJY29uID0gc3R5bGVkKFNwaW5uZXJJY29uKShfdGVtcGxhdGVPYmplY3Q0IHx8IChfdGVtcGxhdGVPYmplY3Q0ID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbXCJcXG4gIGFuaW1hdGlvbjogXCIsIFwiIDUwMG1zIGxpbmVhciBpbmZpbml0ZTtcXG5cIl0pKSwgcm90YXRlKTtcbmNvbnN0IFNlYXJjaENhcmQgPSBzdHlsZWQoQ2FyZCkoX3RlbXBsYXRlT2JqZWN0NSB8fCAoX3RlbXBsYXRlT2JqZWN0NSA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoW1wiXFxuICBbZGF0YS11aT0nVGV4dElucHV0J10ge1xcbiAgICBib3JkZXItcmFkaXVzOiBpbmhlcml0O1xcbiAgfVxcblwiXSkpKTtcbmZ1bmN0aW9uIHVzZVNoYWxsb3dVbmlxdWUodmFsdWUpIHtcbiAgY29uc3QgdmFsdWVSZWYgPSB1c2VSZWYodmFsdWUpO1xuICBpZiAoIXNoYWxsb3dFcXVhbHModmFsdWVSZWYuY3VycmVudCwgdmFsdWUpKSB7XG4gICAgdmFsdWVSZWYuY3VycmVudCA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB2YWx1ZVJlZi5jdXJyZW50O1xufVxuY29uc3QgYWRkU2VsZWN0ZWRTdGF0ZVRvTWVudUl0ZW1zID0gb3B0aW9ucyA9PiB7XG4gIGNvbnN0IHtcbiAgICBtZW51SXRlbXMsXG4gICAgc29ydE9yZGVyUmF3LFxuICAgIGxheW91dFxuICB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIG1lbnVJdGVtcyA9PSBudWxsID8gdm9pZCAwIDogbWVudUl0ZW1zLm1hcChpdGVtID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgaWYgKChfYSA9IGl0ZW0ucGFyYW1zKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGF5b3V0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICBzZWxlY3RlZDogbGF5b3V0ID09PSAoKF9iID0gaXRlbS5wYXJhbXMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5sYXlvdXQpXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoKF9jID0gaXRlbSA9PSBudWxsID8gdm9pZCAwIDogaXRlbS5wYXJhbXMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5ieSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgc2VsZWN0ZWQ6IGlzRXF1YWwoc29ydE9yZGVyUmF3ID09IG51bGwgPyB2b2lkIDAgOiBzb3J0T3JkZXJSYXcuYnksICgoX2QgPSBpdGVtID09IG51bGwgPyB2b2lkIDAgOiBpdGVtLnBhcmFtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmJ5KSB8fCBFTVBUWV9BUlJBWSlcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5pdGVtLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgfTtcbiAgfSk7XG59O1xuY29uc3QgRG9jdW1lbnRMaXN0UGFuZSA9IG1lbW8oZnVuY3Rpb24gRG9jdW1lbnRMaXN0UGFuZTIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkSXRlbUlkLFxuICAgIGluZGV4LFxuICAgIGlzQWN0aXZlLFxuICAgIGlzU2VsZWN0ZWQsXG4gICAgcGFuZSxcbiAgICBwYW5lS2V5XG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgc2NoZW1hID0gdXNlU2NoZW1hKCk7XG4gIGNvbnN0IHtcbiAgICBuYW1lOiBwYXJlbnRTb3VyY2VOYW1lXG4gIH0gPSB1c2VTb3VyY2UoKTtcbiAgY29uc3Qge1xuICAgIGRlZmF1bHRMYXlvdXQgPSBcImRlZmF1bHRcIixcbiAgICBkaXNwbGF5T3B0aW9ucyxcbiAgICBpbml0aWFsVmFsdWVUZW1wbGF0ZXMgPSBFTVBUWV9BUlJBWSxcbiAgICBtZW51SXRlbUdyb3VwcyxcbiAgICBtZW51SXRlbXMsXG4gICAgb3B0aW9ucyxcbiAgICB0aXRsZVxuICB9ID0gcGFuZTtcbiAgY29uc3Qge1xuICAgIGFwaVZlcnNpb24sXG4gICAgZGVmYXVsdE9yZGVyaW5nID0gRU1QVFlfQVJSQVksXG4gICAgZmlsdGVyXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwYXJhbXMgPSB1c2VTaGFsbG93VW5pcXVlKG9wdGlvbnMucGFyYW1zIHx8IEVNUFRZX1JFQ09SRCk7XG4gIGNvbnN0IHNvdXJjZU5hbWUgPSBwYW5lLnNvdXJjZTtcbiAgY29uc3QgdHlwZU5hbWUgPSB1c2VNZW1vKCgpID0+IGdldFR5cGVOYW1lRnJvbVNpbmdsZVR5cGVGaWx0ZXIoZmlsdGVyLCBwYXJhbXMpLCBbZmlsdGVyLCBwYXJhbXNdKTtcbiAgY29uc3Qgc2hvd0ljb25zID0gKGRpc3BsYXlPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBkaXNwbGF5T3B0aW9ucy5zaG93SWNvbnMpICE9PSBmYWxzZTtcbiAgY29uc3QgW2xheW91dCwgc2V0TGF5b3V0XSA9IHVzZURlc2tUb29sU2V0dGluZyh0eXBlTmFtZSwgXCJsYXlvdXRcIiwgZGVmYXVsdExheW91dCk7XG4gIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzZWFyY2hJbnB1dFZhbHVlLCBzZXRTZWFyY2hJbnB1dFZhbHVlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2VhcmNoSW5wdXRFbGVtZW50LCBzZXRTZWFyY2hJbnB1dEVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IHNob3dTZWFyY2hMb2FkaW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgZGVmYXVsdFNvcnRPcmRlciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiAoZGVmYXVsdE9yZGVyaW5nID09IG51bGwgPyB2b2lkIDAgOiBkZWZhdWx0T3JkZXJpbmcubGVuZ3RoKSA+IDAgPyB7XG4gICAgICBieTogZGVmYXVsdE9yZGVyaW5nXG4gICAgfSA6IERFRkFVTFRfT1JERVJJTkc7XG4gIH0sIFtkZWZhdWx0T3JkZXJpbmddKTtcbiAgY29uc3QgW3NvcnRPcmRlclJhdywgc2V0U29ydE9yZGVyXSA9IHVzZURlc2tUb29sU2V0dGluZyh0eXBlTmFtZSwgXCJzb3J0T3JkZXJcIiwgZGVmYXVsdFNvcnRPcmRlcik7XG4gIGNvbnN0IHNvcnRXaXRoT3JkZXJpbmdGbiA9IHR5cGVOYW1lICYmIHNvcnRPcmRlclJhdyA/IGFwcGx5T3JkZXJpbmdGdW5jdGlvbnMoc29ydE9yZGVyUmF3LCBzY2hlbWEuZ2V0KHR5cGVOYW1lKSkgOiBzb3J0T3JkZXJSYXc7XG4gIGNvbnN0IHNvcnRPcmRlciA9IHVzZVVuaXF1ZShzb3J0V2l0aE9yZGVyaW5nRm4pO1xuICBjb25zdCBmaWx0ZXJJc1NpbXBsZVR5cGVDb25zdHJhaW50ID0gaXNTaW1wbGVUeXBlRmlsdGVyKGZpbHRlcik7XG4gIGNvbnN0IHtcbiAgICBlcnJvcixcbiAgICBoYXNNYXhJdGVtcyxcbiAgICBpc0xhenlMb2FkaW5nLFxuICAgIGlzTG9hZGluZyxcbiAgICBpc1NlYXJjaFJlYWR5LFxuICAgIGl0ZW1zLFxuICAgIG9uTGlzdENoYW5nZSxcbiAgICBvblJldHJ5XG4gIH0gPSB1c2VEb2N1bWVudExpc3Qoe1xuICAgIGFwaVZlcnNpb24sXG4gICAgZmlsdGVyLFxuICAgIHBhcmFtcyxcbiAgICBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnkgPT0gbnVsbCA/IHZvaWQgMCA6IHNlYXJjaFF1ZXJ5LnRyaW0oKSxcbiAgICBzb3J0T3JkZXJcbiAgfSk7XG4gIGNvbnN0IG1lbnVJdGVtc1dpdGhTZWxlY3RlZFN0YXRlID0gdXNlTWVtbygoKSA9PiBhZGRTZWxlY3RlZFN0YXRlVG9NZW51SXRlbXMoe1xuICAgIG1lbnVJdGVtcyxcbiAgICBzb3J0T3JkZXJSYXcsXG4gICAgbGF5b3V0XG4gIH0pLCBbbGF5b3V0LCBtZW51SXRlbXMsIHNvcnRPcmRlclJhd10pO1xuICBjb25zdCBoYW5kbGVRdWVyeUNoYW5nZSA9IHVzZU9ic2VydmFibGVDYWxsYmFjayhldmVudCQgPT4ge1xuICAgIHJldHVybiBldmVudCQucGlwZShtYXAkMShldmVudCA9PiBldmVudC50YXJnZXQudmFsdWUpLCB0YXAoc2V0U2VhcmNoSW5wdXRWYWx1ZSksIGRlYm91bmNlKHZhbHVlID0+IHZhbHVlID09PSBcIlwiID8gb2YoXCJcIikgOiB0aW1lcigzMDApKSwgdGFwKHNldFNlYXJjaFF1ZXJ5KSk7XG4gIH0sIFtdKTtcbiAgY29uc3QgaGFuZGxlQ2xlYXJTZWFyY2ggPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0U2VhcmNoUXVlcnkoXCJcIik7XG4gICAgc2V0U2VhcmNoSW5wdXRWYWx1ZShcIlwiKTtcbiAgfSwgW10pO1xuICBjb25zdCBoYW5kbGVTZWFyY2hLZXlEb3duID0gdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIGhhbmRsZUNsZWFyU2VhcmNoKCk7XG4gICAgfVxuICB9LCBbaGFuZGxlQ2xlYXJTZWFyY2hdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2hvd1NlYXJjaExvYWRpbmdSZWYuY3VycmVudCA9PT0gZmFsc2UgJiYgIWlzTG9hZGluZykge1xuICAgICAgc2hvd1NlYXJjaExvYWRpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzaG93U2VhcmNoTG9hZGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW2lzTG9hZGluZ10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGhhbmRsZUNsZWFyU2VhcmNoKCk7XG4gICAgc2hvd1NlYXJjaExvYWRpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICB9LCBbcGFuZUtleSwgaGFuZGxlQ2xlYXJTZWFyY2hdKTtcbiAgY29uc3QgbG9hZGluZ1ZhcmlhbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBzaG93U3Bpbm5lciA9IGlzTG9hZGluZyAmJiBpdGVtcy5sZW5ndGggPT09IDAgJiYgc2hvd1NlYXJjaExvYWRpbmdSZWYuY3VycmVudDtcbiAgICBpZiAoc2hvd1NwaW5uZXIpIHJldHVybiBcInNwaW5uZXJcIjtcbiAgICByZXR1cm4gXCJpbml0aWFsXCI7XG4gIH0sIFtpc0xvYWRpbmcsIGl0ZW1zLmxlbmd0aF0pO1xuICBjb25zdCBzZWFyY2hJbnB1dCA9IC8qIEBfX1BVUkVfXyAqL2pzeChCb3gsIHtcbiAgICBwYWRkaW5nWDogMixcbiAgICBwYWRkaW5nQm90dG9tOiAyLFxuICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goU2VhcmNoQ2FyZCwge1xuICAgICAgcmFkaXVzOiA0LFxuICAgICAgdG9uZTogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChUZXh0SW5wdXQsIHtcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiU2VhcmNoIGxpc3RcIixcbiAgICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgICBib3JkZXI6IGZhbHNlLFxuICAgICAgICBjbGVhckJ1dHRvbjogQm9vbGVhbihzZWFyY2hRdWVyeSksXG4gICAgICAgIGRpc2FibGVkOiAhaXNTZWFyY2hSZWFkeSxcbiAgICAgICAgZm9udFNpemU6IFsyLCAyLCAxXSxcbiAgICAgICAgaWNvbjogbG9hZGluZ1ZhcmlhbnQgPT09IFwic3Bpbm5lclwiID8gQW5pbWF0ZWRTcGlubmVySWNvbiA6IFNlYXJjaEljb24sXG4gICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVRdWVyeUNoYW5nZSxcbiAgICAgICAgb25DbGVhcjogaGFuZGxlQ2xlYXJTZWFyY2gsXG4gICAgICAgIG9uS2V5RG93bjogaGFuZGxlU2VhcmNoS2V5RG93bixcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiU2VhcmNoIGxpc3RcIixcbiAgICAgICAgcmFkaXVzOiAyLFxuICAgICAgICByZWY6IHNldFNlYXJjaElucHV0RWxlbWVudCxcbiAgICAgICAgc3BlbGxDaGVjazogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBzZWFyY2hJbnB1dFZhbHVlXG4gICAgICB9KVxuICAgIH0pXG4gIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFNvdXJjZVByb3ZpZGVyLCB7XG4gICAgbmFtZTogc291cmNlTmFtZSB8fCBwYXJlbnRTb3VyY2VOYW1lLFxuICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3hzKFBhbmUsIHtcbiAgICAgIGN1cnJlbnRNYXhXaWR0aDogMzUwLFxuICAgICAgXCJkYXRhLXVpXCI6IFwiRG9jdW1lbnRMaXN0UGFuZVwiLFxuICAgICAgaWQ6IHBhbmVLZXksXG4gICAgICBtYXhXaWR0aDogNjQwLFxuICAgICAgbWluV2lkdGg6IDMyMCxcbiAgICAgIHNlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgY2hpbGRyZW46IFtfREVCVUcsIC8qIEBfX1BVUkVfXyAqL2pzeChEb2N1bWVudExpc3RQYW5lSGVhZGVyLCB7XG4gICAgICAgIGNvbnRlbnRBZnRlcjogc2VhcmNoSW5wdXQsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBpbml0aWFsVmFsdWVUZW1wbGF0ZXMsXG4gICAgICAgIG1lbnVJdGVtR3JvdXBzLFxuICAgICAgICBtZW51SXRlbXM6IG1lbnVJdGVtc1dpdGhTZWxlY3RlZFN0YXRlLFxuICAgICAgICBzZXRMYXlvdXQsXG4gICAgICAgIHNldFNvcnRPcmRlcixcbiAgICAgICAgdGl0bGVcbiAgICAgIH0pLCAvKiBAX19QVVJFX18gKi9qc3goRG9jdW1lbnRMaXN0UGFuZUNvbnRlbnQsIHtcbiAgICAgICAgY2hpbGRJdGVtSWQsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBmaWx0ZXJJc1NpbXBsZVR5cGVDb25zdHJhaW50LFxuICAgICAgICBoYXNNYXhJdGVtcyxcbiAgICAgICAgaGFzU2VhcmNoUXVlcnk6IEJvb2xlYW4oc2VhcmNoUXVlcnkpLFxuICAgICAgICBpc0FjdGl2ZSxcbiAgICAgICAgaXNMYXp5TG9hZGluZyxcbiAgICAgICAgaXNMb2FkaW5nLFxuICAgICAgICBpdGVtcyxcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICBsb2FkaW5nVmFyaWFudCxcbiAgICAgICAgb25MaXN0Q2hhbmdlLFxuICAgICAgICBvblJldHJ5LFxuICAgICAgICBwYW5lVGl0bGU6IHRpdGxlLFxuICAgICAgICBzZWFyY2hJbnB1dEVsZW1lbnQsXG4gICAgICAgIHNob3dJY29uc1xuICAgICAgfSwgcGFuZUtleSldXG4gICAgfSlcbiAgfSk7XG59KTtcbmV4cG9ydCB7IERvY3VtZW50TGlzdFBhbmUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgtM2U3NzcyNjEuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-client)/./node_modules/sanity/lib/_chunks/index-3e777261.js\n"));

/***/ })

}]);